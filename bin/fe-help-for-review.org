* fe.exe

: manage feature-based code development
: 
:   fe.exe SUBCOMMAND
: 
: === subcommands ===
: 
:   admin            control Iron server, deploy exe's, see disk usage, etc.
:   archive          archive a feature (it can later be unarchived)
:   brain            manage and inspect a reviewer's brain for a feature
:   catch-up         manage your catch up duties
:   change           change a feature's attributes
:   compress         archive an empty feature, renaming its descendants
:   conflicts        grep and display conflicts in the current directory and below
:   copy             copy a feature
:   create           create a feature
:   crs              display CRs (by default, CRs to work on now)
:   delete           explain why we don't have (and don't want) [fe delete]
:   description      manage the description of a feature
:   diff             show the diff of a feature
:   disable-review   disable review of a feature
:   enable-review    enable review of a feature
:   fact             fact db commands
:   glog             show the revision graph of the tips and bases of some
:                    features
:   internal         various commands for Iron developers
:   is-releasable    check whether a feature is releasable
:   is-unlocked      check if locks are unlocked
:   list             list descendants of a feature
:   lock             lock some of a feature's locks
:   log              show a log of the changesets in a feature
:   obligations      process Iron obligations files
:   projects         handle tagged files and projects directories
:   rebase           rebase a feature
:   release          release a feature, and archive it if possible
:   remind           email a code review reminder
:   rename           rename a feature (and all features below it)
:   review           start or continue a review session
:   second           state that a feature is ready to be reviewed by everyone
:   session          manage your current review session for a feature
:   show             show a feature or some of its attributes
:   todo             show what a user should work on
:   tools            miscellaneous commands
:   unarchive        unarchive a feature
:   unlock           unlock some of a feature's locks
:   unsecond         undo a second
:   update           update the repo to the current active session or to tip
:   widen-reviewing  grow the set of users currently reviewing
:   workspace        managing clones and shares for features
:   version          print version information
:   help             explain a given subcommand (perhaps recursively)

** version

: print version information
: 
:   fe.exe version 
: 
: === flags ===
: 
:   [-build-info]  print build info for this build
:   [-version]     print the version of this build
:   [-help]        print this help text and exit
:                  (alias: -?)

** admin

: control Iron server, deploy exe's, see disk usage, etc.
: 
:   fe.exe admin SUBCOMMAND
: 
: Also see:
: 
:   http://docs/systems/iron/admin.html
: 
: 
: === subcommands ===
: 
:   browse-disk-quota         catalog browse the Iron disk quota
:   deploy                    install the given executable to
:                             /j/office/app/fe/prod/bin/fe
:   deploy-check-obligations  install the given script to
:                             /j/office/app/fe/prod/bin/check-obligations
:   last-hydra-error          show the last error hydra had talking to Iron server
:   proxy-server              a proxy server that forwards RPCs to Iron server
:   server                    commands to poke/prod/control the server
:   users                     commands about the various sets of user names
:   help                      explain a given subcommand (perhaps recursively)

*** browse-disk-quota

: catalog browse the Iron disk quota
: 
:   fe.exe admin browse-disk-quota 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** deploy

: install the given executable to /j/office/app/fe/prod/bin/fe
: 
:   fe.exe admin deploy 
: 
: === flags ===
: 
:   -message                         message given to sink deploy
:   [--]                             pass the remaining arguments to sink deploy
:   [-bashrc (BASHRC|default|none)]  which bashrc to roll
:   [-fe (EXE|self|none)]            which executable to roll (defaults to self)
:   [-hgrc (HGRC|default|none)]      which hgrc to roll
:   [-no-backup-check]               do not check the invariants of the last
:                                    backup with the exe about to be rolled
:   [-help]                          print this help text and exit
:                                    (alias: -?)

*** deploy-check-obligations

: install the given script to /j/office/app/fe/prod/bin/check-obligations
: 
:   fe.exe admin deploy-check-obligations FILE
: 
: === flags ===
: 
:   -message  message given to sink deploy
:   [--]      pass the remaining arguments to sink deploy
:   [-help]   print this help text and exit
:             (alias: -?)

*** last-hydra-error

: show the last error hydra had talking to Iron server
: 
:   fe.exe admin last-hydra-error 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** proxy-server

: a proxy server that forwards RPCs to Iron server
: 
:   fe.exe admin proxy-server SUBCOMMAND
: 
: === subcommands ===
: 
:   start   start fe-proxy
:   status  status of fe-proxy
:   stop    stop fe-proxy
:   help    explain a given subcommand (perhaps recursively)

**** start

: start fe-proxy
: 
:   fe.exe admin proxy-server start 
: 
: BASEDIR is by default $HOME/proxy/MODE
: 
: === flags ===
: 
:   [-appdir DIR]                      override default APPDIR of $HOME/proxy
:   [-fg]                              run in foreground, don't daemonize
:   [-mode MODE]                       running mode, prod/dev (default = prod)
:   [-where-to-connect HOST_AND_PORT]  to connect to the real server. default is
:                                      prod
:   [-where-to-listen PORT]            specify a port where to listen. default is
:                                      same forward port
:   [-help]                            print this help text and exit
:                                      (alias: -?)

**** status

: status of fe-proxy
: 
:   fe.exe admin proxy-server status 
: 
: === flags ===
: 
:   [-appdir DIR]  override default APPDIR of $HOME/proxy
:   [-mode MODE]   running mode, prod/dev (default = prod)
:   [-help]        print this help text and exit
:                  (alias: -?)

**** stop

: stop fe-proxy
: 
:   fe.exe admin proxy-server stop 
: 
: === flags ===
: 
:   [-appdir DIR]  override default APPDIR of $HOME/proxy
:   [-mode MODE]   running mode, prod/dev (default = prod)
:   [-help]        print this help text and exit
:                  (alias: -?)

*** server

: commands to poke/prod/control the server
: 
:   fe.exe admin server SUBCOMMAND
: 
: === subcommands ===
: 
:   build-info    output Iron server executable's build info
:   down-message  server-down message commands
:   gc-compact    have the server do a gc compaction
:   metrics       various commands for collecting data in features
:   rpc-stats     output the server's RPC statistics
:   serializer    control Iron server's serializer of persistent state
:   start         start fe
:   stat          report Iron server's stats
:   status        status of fe
:   stop          stop fe
:   uptime        report Iron server's uptime
:   version       output Iron server executable's hg version info
:   help          explain a given subcommand (perhaps recursively)

**** build-info

: output Iron server executable's build info
: 
:   fe.exe admin server build-info 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** down-message

: server-down message commands
: 
:   fe.exe admin server down-message SUBCOMMAND
: 
: === subcommands ===
: 
:   edit  edit the standard server-down message
:   roll  roll message commands
:   show  show the server-down message
:   help  explain a given subcommand (perhaps recursively)

***** edit

: edit the standard server-down message
: 
:   fe.exe admin server down-message edit 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** roll

: roll message commands
: 
:   fe.exe admin server down-message roll SUBCOMMAND
: 
: === subcommands ===
: 
:   end    end a roll message
:   start  start a roll message
:   help   explain a given subcommand (perhaps recursively)

****** end

: end a roll message
: 
:   fe.exe admin server down-message roll end 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

****** start

: start a roll message
: 
:   fe.exe admin server down-message roll start 
: 
: === flags ===
: 
:   -expires-in SPAN  before reverting to the standard message
:   [-help]           print this help text and exit
:                     (alias: -?)

***** show

: show the server-down message
: 
:   fe.exe admin server down-message show 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** gc-compact

: have the server do a gc compaction
: 
:   fe.exe admin server gc-compact 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** metrics

: various commands for collecting data in features
: 
:   fe.exe admin server metrics SUBCOMMAND
: 
: === subcommands ===
: 
:   add        add values to a metric
:   clear      clear a metric
:   get        get the raw list of metric data points captured from features
:   list       list metrics available on the server
:   show       show statistics of data captured from features
:   subscribe  subscribe to specified metric updates and print them
:   help       explain a given subcommand (perhaps recursively)

***** add

: add values to a metric
: 
:   fe.exe admin server metrics add FEATURE
: 
: === flags ===
: 
:   -metric METRIC           metric
:   -values FLOAT[,FLOAT..]  value
:   [-help]                  print this help text and exit
:                            (alias: -?)

***** clear

: clear a metric
: 
:   fe.exe admin server metrics clear [FEATURE ...]
: 
: === flags ===
: 
:   -metric METRIC  metric
:   [-all]          include all features
:   [-rec]          include recursively each descendant of given features
:   [-help]         print this help text and exit
:                   (alias: -?)

***** get

: get the raw list of metric data points captured from features
: 
:   fe.exe admin server metrics get [FEATURE]
: 
: This is a raw command to access the most recent internal data points directly.
: To display stats on those values, see [show].
: 
: 
: === flags ===
: 
:   [-decimals NUM]             round stats to n decimals. Default 2
:   [-depth {DEPTH|max}]        show descendants DEPTH levels down (default is 1)
:   [-display-ascii]            display ASCII characters, with no ANSI color
:                               escapes or unicode characters
:   [-max-output-columns INT]   maximum column width for table output
:   [-metrics REGEX,[REGEX..]]  select metrics to show
:   [-help]                     print this help text and exit
:                               (alias: -?)

***** list

: list metrics available on the server
: 
:   fe.exe admin server metrics list [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** show

: show statistics of data captured from features
: 
:   fe.exe admin server metrics show [FEATURE]
: 
: Metrics are shown for all features in the requested subtree(s), aggregated by -depth.
: 
: 
: === flags ===
: 
:   [-decimals NUM]             round stats to n decimals. Default 2
:   [-depth {DEPTH|max}]        show descendants DEPTH levels down (default is 1)
:   [-display-ascii]            display ASCII characters, with no ANSI color
:                               escapes or unicode characters
:   [-max-output-columns INT]   maximum column width for table output
:   [-metrics REGEX,[REGEX..]]  select metrics to show
:   [-stats STAT,[STAT...]]     select stats to show
:                               0%|5%|15%|25%|50%|75%|90%|95%|99%|count
:   [-help]                     print this help text and exit
:                               (alias: -?)

***** subscribe

: subscribe to specified metric updates and print them
: 
:   fe.exe admin server metrics subscribe [FEATURE]
: 
: === flags ===
: 
:   [-metric METRIC]  metric
:   [-help]           print this help text and exit
:                     (alias: -?)

**** rpc-stats

: output the server's RPC statistics
: 
:   fe.exe admin server rpc-stats 
: 
: === flags ===
: 
:   [-display-ascii]              display ASCII characters, with no ANSI color
:                                 escapes or unicode characters
:   [-max-output-columns INT]     maximum column width for table output
:   [-merge COLUMN[,COLUMN...]]   aggregate columns by|rpc|version
:   [-only-users USER[,USER...]]
:   [-sort-by-hits]               sort by decreasing number of hits
:   [-help]                       print this help text and exit
:                                 (alias: -?)

**** serializer

: control Iron server's serializer of persistent state
: 
:   fe.exe admin server serializer SUBCOMMAND
: 
: Iron server maintains its state on the file system via a "serializer", which has a queue
: of pending changes to be made to the file system to reflect state changes.  Whenever Iron
: server commits to a state change, it enqueues a representation of the state change in its
: serializer.
: 
: The [serializer] commands manipulate the serializer queue.
: 
: Iron's backup process uses [pause] and [resume] to get a consistent snapshot of the
: persistent state.  The backup process temporarily [pause]s processing of the serializer
: queue, copies the state elsewere on disk, and then [resume]s processing of the queue.
: 
: 
: === subcommands ===
: 
:   pause              pause the persistent-state serializer
:   resume             resume the persistent-state serializer
:   status             check whether changes to persistent-state are allowed or
:                      not
:   wait-until-synced  wait until prior state changes are reflected in the file
:                      system
:   help               explain a given subcommand (perhaps recursively)

***** pause

: pause the persistent-state serializer
: 
:   fe.exe admin server serializer pause 
: 
: This command blocks until the file system is frozen.
: 
: 
: === flags ===
: 
:   [-with-timeout SPAN]  automatically resume the serializer after SPAN (default
:                         1m)
:   [-help]               print this help text and exit
:                         (alias: -?)

***** resume

: resume the persistent-state serializer
: 
:   fe.exe admin server serializer resume 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** status

: check whether changes to persistent-state are allowed or not
: 
:   fe.exe admin server serializer status 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** wait-until-synced

: wait until prior state changes are reflected in the file system
: 
:   fe.exe admin server serializer wait-until-synced 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** start

: start fe
: 
:   fe.exe admin server start 
: 
: BASEDIR is by default $HOME/MODE
: 
: === flags ===
: 
:   [-appdir DIR]  override default APPDIR of $HOME
:   [-fg]          run in foreground, don't daemonize
:   [-mode MODE]   running mode, prod/dev (default = prod)
:   [-help]        print this help text and exit
:                  (alias: -?)

**** stat

: report Iron server's stats
: 
:   fe.exe admin server stat 
: 
: === flags ===
: 
:   -kind KIND  what kind of stats to report: gc-quick-stat | gc-stat |
:               process-times
:   [-help]     print this help text and exit
:               (alias: -?)

**** status

: status of fe
: 
:   fe.exe admin server status 
: 
: === flags ===
: 
:   [-appdir DIR]  override default APPDIR of $HOME
:   [-mode MODE]   running mode, prod/dev (default = prod)
:   [-help]        print this help text and exit
:                  (alias: -?)

**** stop

: stop fe
: 
:   fe.exe admin server stop 
: 
: === flags ===
: 
:   [-appdir DIR]  override default APPDIR of $HOME
:   [-mode MODE]   running mode, prod/dev (default = prod)
:   [-help]        print this help text and exit
:                  (alias: -?)

**** uptime

: report Iron server's uptime
: 
:   fe.exe admin server uptime 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** version

: output Iron server executable's hg version info
: 
:   fe.exe admin server version 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** users

: commands about the various sets of user names
: 
:   fe.exe admin users SUBCOMMAND
: 
: === subcommands ===
: 
:   admins
:   define-typos                    define the user for a mistyped user name
:   feeding-metrics
:   get-invalid                     output invalid users
:   refresh-existing-users          recompute the set of existing users
:   remove-aliases                  remove aliases from the mapping from aliases
:                                   to user names
:   remove-typos                    remove typos from the mapping from typo to
:                                   user name
:   repartition-crs                 repartitions crs according to the current
:                                   aliases and typos
:   update-valid-users-and-aliases  update Iron's mapping from aliases to user
:                                   names, and the set of valid user names.
:   using-locked-sessions
:   help                            explain a given subcommand (perhaps
:                                   recursively)

**** admins

: fe.exe admin users admins SUBCOMMAND
: 
: 
: 
: === subcommands ===
: 
:   add     add users in this set
:   get     print out the users of this set
:   remove  remove users from this set
:   help    explain a given subcommand (perhaps recursively)

***** add

: add users in this set
: 
:   fe.exe admin users admins add [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

***** get

: print out the users of this set
: 
:   fe.exe admin users admins get 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** remove

: remove users from this set
: 
:   fe.exe admin users admins remove [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

**** define-typos

: define the user for a mistyped user name
: 
:   fe.exe admin users define-typos 
: 
: These are used to reassign crs that have typos in usernames.
: 
: The intended usage for defining multiple typos at once is:
: 
:    fe admin users define-typos \
:        -typo TYPO1 -means USER1 \
:        -typo TYPO2 -means USER2 \
:        -typo TYPO3 -means USER3 \
:        ;
: 
: 
: === flags ===
: 
:   [-do-not-repartition-crs]  do not repartition CRs after the change
:   [-means USER]              the nth user is matched with the nth typo
:   [-typo TYPO]
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** feeding-metrics

: fe.exe admin users feeding-metrics SUBCOMMAND
: 
: 
: 
: === subcommands ===
: 
:   add     add users in this set
:   get     print out the users of this set
:   remove  remove users from this set
:   help    explain a given subcommand (perhaps recursively)

***** add

: add users in this set
: 
:   fe.exe admin users feeding-metrics add [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

***** get

: print out the users of this set
: 
:   fe.exe admin users feeding-metrics get 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** remove

: remove users from this set
: 
:   fe.exe admin users feeding-metrics remove [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

**** get-invalid

: output invalid users
: 
:   fe.exe admin users get-invalid 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-interactive BOOL]        be interactive via the terminal (default is false)
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** refresh-existing-users

: recompute the set of existing users
: 
:   fe.exe admin users refresh-existing-users 
: 
: This traverses the entire state to rebuild the set of existing users, which is used for tab-completion and validating user names supplied on the command line.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** remove-aliases

: remove aliases from the mapping from aliases to user names
: 
:   fe.exe admin users remove-aliases [ALIAS ...]
: 
: === flags ===
: 
:   [-do-not-repartition-crs]  do not repartition CRs after the change
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** remove-typos

: remove typos from the mapping from typo to user name
: 
:   fe.exe admin users remove-typos [TYPO ...]
: 
: === flags ===
: 
:   [-do-not-repartition-crs]  do not repartition CRs after the change
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** repartition-crs

: repartitions crs according to the current aliases and typos
: 
:   fe.exe admin users repartition-crs 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** update-valid-users-and-aliases

: update Iron's mapping from aliases to user names, and the set of valid user names.
: 
:   fe.exe admin users update-valid-users-and-aliases 
: 
: === flags ===
: 
:   [-do-not-repartition-crs]  do not repartition CRs after the change
:   [-stdin]                   read corpdir cache input from stdin
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** using-locked-sessions

: fe.exe admin users using-locked-sessions SUBCOMMAND
: 
: Some users may opt in here to try out an experimental feature:
: 
: When they run [fe review] or [fe session diff] their session is automatically locked,
: as if they had run [fe session lock].
: 
: If the experience is positive, this may become the new behavior implemented for everyone.
: 
: 
: === subcommands ===
: 
:   add     add users in this set
:   get     print out the users of this set
:   remove  remove users from this set
:   help    explain a given subcommand (perhaps recursively)

***** add

: add users in this set
: 
:   fe.exe admin users using-locked-sessions add [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

***** get

: print out the users of this set
: 
:   fe.exe admin users using-locked-sessions get 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** remove

: remove users from this set
: 
:   fe.exe admin users using-locked-sessions remove [USER ...]
: 
: === flags ===
: 
:   [-idempotent]  do not fail if setting is already as requested
:   [-help]        print this help text and exit
:                  (alias: -?)

** archive

: archive a feature (it can later be unarchived)
: 
:   fe.exe archive FEATURE
: 
: === flags ===
: 
:   [-for USER]       for user (default is unix login)
:   [-reason REASON]  why you are archiving this feature
:   [-help]           print this help text and exit
:                     (alias: -?)

** brain

: manage and inspect a reviewer's brain for a feature
: 
:   fe.exe brain SUBCOMMAND
: 
: === subcommands ===
: 
:   diff    show the diff a reviewer knows for a feature
:   forget  remove knowledge from a brain
:   show    show what a reviewer knows about a feature
:   help    explain a given subcommand (perhaps recursively)

*** diff

: show the diff a reviewer knows for a feature
: 
:   fe.exe brain diff [FEATURE]
: 
: === flags ===
: 
:   [-context N]    number of lines of context to show (default 12)
:   [-do-not-pull]  do not pull, fail if revs are unknown
:   [-file FILE]    show only specified file(s)
:   [-for USER]     for user (default is unix login)
:   [-help]         print this help text and exit
:                   (alias: -?)

*** forget

: remove knowledge from a brain
: 
:   fe.exe brain forget [FEATURE]
: 
: === flags ===
: 
:   [-all]                     forget all diffs in FEATURE
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-file FILE]               forget the diff for FILE in FEATURE
:   [-for USER]                for user (default is unix login)
:   [-interactive BOOL]        be interactive via the terminal (default is false)
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** show

: show what a reviewer knows about a feature
: 
:   fe.exe brain show [FEATURE]
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-file FILE]               show only specified file(s)
:   [-for USER|all]            for user (default is unix login)
:   [-max-output-columns INT]  maximum column width for table output
:   [-sort-build-order]        attempt to sort files in build order, computed via
:                              build artifacts
:   [-help]                    print this help text and exit
:                              (alias: -?)

** catch-up

: manage your catch up duties
: 
:   fe.exe catch-up SUBCOMMAND
: 
: === subcommands ===
: 
:   clear      clear all catch-up review for a user in a feature
:   diff       show diffs from a catch-up session
:   is-needed  print [true] or [false], depending on whether the catch-up review
:              is needed
:   mark-file  mark as caught up files in a catch-up session
:   review     start or continue a catch up session
:   show       show a catch-up session or some of its attributes
:   help       explain a given subcommand (perhaps recursively)

*** clear

: clear all catch-up review for a user in a feature
: 
:   fe.exe catch-up clear [FEATURE]
: 
: This command fails if any of the following are true:
: 
: * no catch-up exists for that user in that feature, unless
:   [-ok-if-nothing-cleared] is supplied.
: 
: * the feature provided does not exist and is not a valid archived feature.
: 
: * [-for] is supplied, unless requested by an Iron admin.
: 
: 
: === flags ===
: 
:   [-for USER]                           for user (default is unix login)
:   [-ok-if-nothing-cleared]              do not fail if there is no catch-up to
:                                         clear (idempotent)
:   [-only-those-reviewed-by USER_BLANG]  only clear those catch-up reviewed by a
:                                         user satisfying the specified boolean
:                                         expression. default is [true].
:   [-help]                               print this help text and exit
:                                         (alias: -?)

*** diff

: show diffs from a catch-up session
: 
:   fe.exe catch-up diff [FEATURE]
: 
: === flags ===
: 
:   [-context N]                                   number of lines of context to
:                                                  show (default 12)
:   [-do-not-modify-local-repo]                    don't run hg commands that
:                                                  modify the local repo
:   [-file FILE]                                   show only specified file(s)
:   [-for USER]                                    for user (default is unix
:                                                  login)
:   [-lines-required-to-separate-ddiff-hunks INT]  override the required spacing
:                                                  to separate two ddiff hunks
:   [-session-id SESSION_ID]                       fail if the current session id
:                                                  is not the one supplied
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

*** is-needed

: print [true] or [false], depending on whether the catch-up review is needed
: 
:   fe.exe catch-up is-needed [FEATURE]
: 
: === flags ===
: 
:   [-for USER]  for user (default is unix login)
:   [-help]      print this help text and exit
:                (alias: -?)

*** mark-file

: mark as caught up files in a catch-up session
: 
:   fe.exe catch-up mark-file FEATURE [FILE ...]
: 
: 
: 
: === flags ===
: 
:   [-for USER]               for user (default is unix login)
:   [-session-id SESSION_ID]  fail if the current session id is not the one
:                             supplied
:   [-help]                   print this help text and exit
:                             (alias: -?)

*** review

: start or continue a catch up session
: 
:   fe.exe catch-up review [FEATURE]
: 
: This command is deprecated and has been subsumed by [fe review].
: 
: 
: === flags ===
: 
:   [-context N]                                   number of lines of context to
:                                                  show (default 12)
:   [-do-not-modify-local-repo]                    don't run hg commands that
:                                                  modify the local repo
:   [-emacs]                                       visit files in emacs
:   [-for USER]                                    for user (default is unix
:                                                  login)
:   [-interactive BOOL]                            be interactive via the terminal
:                                                  (default is false)
:   [-lines-required-to-separate-ddiff-hunks INT]  override the required spacing
:                                                  to separate two ddiff hunks
:   [-max-output-columns INT]                      maximum column width for table
:                                                  output
:   [-raw]                                         show Iron's internal
:                                                  representation of the review
:   [-sort FILE]                                   order the files to be reviewed
:                                                  using the list in this file.
:   [-sort-build-order]                            attempt to sort files in build
:                                                  order, computed via build
:                                                  artifacts
:   [-sort-by-decreasing-lines]                    order the files to be reviewed
:                                                  by increasing number of lines
:                                                  to review.
:   [-sort-by-increasing-lines]                    order the files to be reviewed
:                                                  by increasing number of lines
:                                                  to review.
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

*** show

: show a catch-up session or some of its attributes
: 
:   fe.exe catch-up show [FEATURE]
: 
: === flags ===
: 
:   [-display-ascii]                display ASCII characters, with no ANSI color
:                                   escapes or unicode characters
:   [-for USER]                     for user (default is unix login)
:   [-max-output-columns INT]       maximum column width for table output
:   [-omit-attribute-table]         don't include feature attributes
:   [-omit-header-and-description]  don't include feature name and descriptions
:   [-session-id]                   show session-id
:   [-help]                         print this help text and exit
:                                   (alias: -?)

** change

: change a feature's attributes
: 
:   fe.exe change [FEATURE]
: 
: === flags ===
: 
:   [-add-inheritable-owners USER[,USER...]]
:   [-add-inheritable-send-email-to EMAIL[,EMAIL...]]
:   [-add-inheritable-send-email-upon ACTION[,ACTION...]]
:   [-add-inheritable-whole-feature-followers USER[,USER...]]
:   [-add-inheritable-whole-feature-reviewers USER[,USER...]]
:   [-add-owners USER[,USER...]]
:   [-add-reviewing USER[,USER...]]
:   [-add-send-email-to EMAIL[,EMAIL...]]
:   [-add-send-email-upon ACTION[,ACTION...]]                            cause
:                                                                        email to
:                                                                        be sent
:                                                                        also upon
:                                                                        ACTION(S)
:   [-add-whole-feature-followers USER[,USER...]]
:   [-add-whole-feature-reviewers USER[,USER...]]
:   [-lock]                                                              error --
:                                                                        use [fe
:                                                                        lock] or
:                                                                        [fe
:                                                                        unlock]
:   [-remove-inheritable-crs-shown-in-todo-only-for-users-reviewing]
:   [-remove-inheritable-owners USER[,USER...]]
:   [-remove-inheritable-property ATTR[,ATTR...]]
:   [-remove-inheritable-release-process]
:   [-remove-inheritable-send-email-to EMAIL[,EMAIL...]]
:   [-remove-inheritable-send-email-upon ACTION[,ACTION...]]
:   [-remove-inheritable-who-can-release-into-me]
:   [-remove-inheritable-whole-feature-followers USER[,USER...]]
:   [-remove-inheritable-whole-feature-reviewers USER[,USER...]]
:   [-remove-inheritable-xcrs-shown-in-todo-only-for-users-reviewing]
:   [-remove-owners USER[,USER...]]
:   [-remove-property ATTR[,ATTR...]]                                    remove
:                                                                        user-defined
:                                                                        properties
:   [-remove-reviewing USER[,USER...]]
:   [-remove-send-email-to EMAIL[,EMAIL...]]
:   [-remove-send-email-upon ACTION[,ACTION...]]                         cause
:                                                                        email to
:                                                                        not be
:                                                                        sent upon
:                                                                        ACTION(S)
:   [-remove-whole-feature-followers USER[,USER...]]
:   [-remove-whole-feature-reviewers USER[,USER...]]
:   [-set-base REV]
:   [-set-crs-are-enabled BOOL]
:   [-set-crs-shown-in-todo-only-for-users-reviewing BOOL]
:   [-set-description TEXT]
:   [-set-inheritable-crs-shown-in-todo-only-for-users-reviewing BOOL]
:   [-set-inheritable-owners USER[,USER...]]
:   [-set-inheritable-property ATTR=SEXP]
:   [-set-inheritable-release-process PROCESS:]                          continuous
:                                                                        | direct
:   [-set-inheritable-send-email-to EMAIL[,EMAIL...]]
:   [-set-inheritable-send-email-upon ACTION[,ACTION...]]
:   [-set-inheritable-who-can-release-into-me _]                         my-owners
:                                                                        |
:                                                                        my-owners-and-child-owners
:   [-set-inheritable-whole-feature-followers USER[,USER...]]
:   [-set-inheritable-whole-feature-reviewers USER[,USER...]]
:   [-set-inheritable-xcrs-shown-in-todo-only-for-users-reviewing BOOL]
:   [-set-is-permanent BOOL]
:   [-set-lines-required-to-separate-ddiff-hunks]
:   [-set-owners USER[,USER...]]
:   [-set-property ATTR=SEXP]                                            set
:                                                                        user-defined
:                                                                        properties
:   [-set-release-process PROCESS]                                       how
:                                                                        features
:                                                                        are
:                                                                        released
:                                                                        into this
:                                                                        one:
:                                                                        continuous
:                                                                        | direct
:   [-set-reviewing USER[,USER...]]
:   [-set-reviewing-all]
:   [-set-reviewing-none]
:   [-set-reviewing-whole-feature-only]
:   [-set-send-email-to EMAIL[,EMAIL...]]
:   [-set-send-email-upon ACTION[,ACTION...]]                            cause
:                                                                        email to
:                                                                        be sent
:                                                                        only upon
:                                                                        ACTION(S)
:   [-set-who-can-release-into-me WHO]                                   owner who
:                                                                        can
:                                                                        release:
:                                                                        my-owners
:                                                                        |
:                                                                        my-owners-and-child-owners
:   [-set-whole-feature-followers USER[,USER...]]
:   [-set-whole-feature-reviewers USER[,USER...]]
:   [-set-xcrs-shown-in-todo-only-for-users-reviewing BOOL]
:   [-verbose]                                                           be more
:                                                                        verbose
:   [-help]                                                              print
:                                                                        this help
:                                                                        text and
:                                                                        exit
:                                                                        (alias:
:                                                                        -?)

** compress

: archive an empty feature, renaming its descendants
: 
:   fe.exe compress FEATURE
: 
: === flags ===
: 
:   [-even-if-locked]  DEPRECATED -- will be removed soon in a subsequent roll
:   [-for USER]        for user (default is unix login)
:   [-help]            print this help text and exit
:                      (alias: -?)

** conflicts

: grep and display conflicts in the current directory and below
: 
:   fe.exe conflicts 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** copy

: copy a feature
: 
:   fe.exe copy FEATURE FEATURE
: 
: === flags ===
: 
:   [-without-copying-review]  proceed even though completed review will not be
:                              copied
:   [-help]                    print this help text and exit
:                              (alias: -?)

** create

: create a feature
: 
:   fe.exe create FEATURE
: 
: === flags ===
: 
:   [-add-whole-feature-reviewers USER[,USER...]]
:   [-allow-non-cr-clean-base]                     proceed even though the base of
:                                                  the new feature won't be CR
:                                                  clean
:   [-base REV]                                    the base revision of the
:                                                  feature (default is parent's
:                                                  tip)
:   [-description TEXT]                            what the feature will
:                                                  accomplish
:   [-interactive BOOL]                            be interactive via the terminal
:                                                  (default is false)
:   [-no-bookmark]                                 only create the feature, not
:                                                  the bookmark
:   [-owners OWNER[,OWNER...]]                     the owner(s) of the feature
:   [-permanent]                                   make this feature permanent
:   [-property ATTR=SEXP]                          user-defined properties
:   [-remote-repo-path URL]                        location of the shared repo
:                                                  (e.g., ssh://...)
:   [-set-reviewing-first-owner-only]
:   [-set-reviewing-whole-feature-only]
:   [-tip REV]                                     the tip revision of the feature
:                                                  (default is base)
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

** crs

: display CRs (by default, CRs to work on now)
: 
:   fe.exe crs [FEATURE]
: 
: === flags ===
: 
:   [-display-ascii]               display ASCII characters, with no ANSI color
:                                  escapes or unicode characters
:   [-drop-content]                drop the content of the CR and just show the
:                                  position
:   [-for USER|all]                for user (default is unix login)
:   [-grep-current-dir-and-below]  grep the current directory and below
:   [-include-active-cr-soons]     don't hide the cr-soons that are active in some
:                                  feature
:   [-max-output-columns INT]      maximum column width for table output
:   [-owner USER]                  treat USER as the feature owner, for unassigned
:                                  CRs
:   [-someday]                     show cr somedays only
:   [-soon]                        show cr soons only
:   [-summary]                     show counts of CRs in a table
:   [-xcrs-only]                   show XCRs only
:   [-help]                        print this help text and exit
:                                  (alias: -?)

** delete

: explain why we don't have (and don't want) [fe delete]
: 
:   fe.exe delete [_ ...]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** description

: manage the description of a feature
: 
:   fe.exe description SUBCOMMAND
: 
: === subcommands ===
: 
:   edit  edit description from your editor
:   set   set description from stdin
:   show  output description on stdout
:   help  explain a given subcommand (perhaps recursively)

*** edit

: edit description from your editor
: 
:   fe.exe description edit [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** set

: set description from stdin
: 
:   fe.exe description set [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** show

: output description on stdout
: 
:   fe.exe description show [{FEATURE | UUID}]
: 
: === flags ===
: 
:   [-archived]                            lookup only among archived features
:   [-existing-or-most-recently-archived]  try finding the most recently archived
:                                          feature if the feature does not exist
:   [-help]                                print this help text and exit
:                                          (alias: -?)

** diff

: show the diff of a feature
: 
:   fe.exe diff [{FEATURE | UUID}]
: 
: One can use any number of [-file FILE] switches to choose which files to show.
: If no [-file] switches are provided, the diff for all files is shown.
: 
: 
: === flags ===
: 
:   [-archived]                            lookup only among archived features
:   [-base REV]                            show the diff from -base to -tip
:   [-context N]                           number of lines of context to show
:                                          (default 12)
:   [-do-not-modify-local-repo]            don't run hg commands that modify the
:                                          local repo
:   [-even-ignored]                        consider all files, even those not seen
:                                          by whole-feature reviewers
:   [-existing-or-most-recently-archived]  try finding the most recently archived
:                                          feature if the feature does not exist
:   [-file FILE]                           show only specified file(s)
:   [-for USER|all]                        for user (default is all)
:   [-max-output-columns INT]              maximum column width for table output
:   [-raw]                                 show Iron's internal representation of
:                                          the diff
:   [-sort-build-order]                    attempt to sort files in build order,
:                                          computed via build artifacts
:   [-summary]                             show a summary of the diff
:   [-tip REV]                             show the diff from -base to -tip
:   [-help]                                print this help text and exit
:                                          (alias: -?)

** disable-review

: disable review of a feature
: 
:   fe.exe disable-review [FEATURE]
: 
: === flags ===
: 
:   [-and-crs]  disable CRs as well
:   [-help]     print this help text and exit
:               (alias: -?)

** enable-review

: enable review of a feature
: 
:   fe.exe enable-review [FEATURE]
: 
: === flags ===
: 
:   [-add-whole-feature-reviewers USER[,USER...]]
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

** fact

: fact db commands
: 
:   fe.exe fact SUBCOMMAND
: 
: The fact-db is a small repository of asserted propositions used primarily to
: ensure that certain conditions are met as a prerequisite for rolling out
: production systems.  The basic operations of the fact-db are to assert,
: retract, and provide evidence for facts that apply to a particular spec for
: specific scopes.
: 
: Examples of such conditions include evidence that regression tests have passed
: and that compliance has approved a change.
: 
: For more information, see http://docs/app/fe/fact.html
: 
: 
: === subcommands ===
: 
:   add     add a fact
:   list    list all fact evidence for spec
:   remove  remove a fact
:   show    show evidence of fact for scope
:   spec    fact spec commands
:   help    explain a given subcommand (perhaps recursively)

*** add

: add a fact
: 
:   fe.exe fact add 
: 
: === flags ===
: 
:   -comment STRING   comment about fact assertion
:   -scope SCOPE      fact scope, e.g. ((rev 1234567890ab) (repo ink))
:   -spec-id SPEC-ID  name of fact spec
:   [-for USER]       for user (default is unix login)
:   [-time TIME]      override assertion time (defaults to now)
:   [-help]           print this help text and exit
:                     (alias: -?)

*** list

: list all fact evidence for spec
: 
:   fe.exe fact list 
: 
: === flags ===
: 
:   -spec-id SPEC-ID  name of fact spec
:   [-help]           print this help text and exit
:                     (alias: -?)

*** remove

: remove a fact
: 
:   fe.exe fact remove 
: 
: === flags ===
: 
:   -scope SCOPE      fact scope, e.g. ((rev 1234567890ab) (repo ink))
:   -spec-id SPEC-ID  name of fact spec
:   [-help]           print this help text and exit
:                     (alias: -?)

*** show

: show evidence of fact for scope
: 
:   fe.exe fact show 
: 
: === flags ===
: 
:   -scope SCOPE      fact scope, e.g. ((rev 1234567890ab) (repo ink))
:   -spec-id SPEC-ID  name of fact spec
:   [-machine]        print results in machine-style sexp format (one sexp per
:                     line)
:   [-help]           print this help text and exit
:                     (alias: -?)

*** spec

: fact spec commands
: 
:   fe.exe fact spec SUBCOMMAND
: 
: === subcommands ===
: 
:   add     add or change a spec
:   list    list available fact specs
:   remove  remove a spec
:   help    explain a given subcommand (perhaps recursively)

**** add

: add or change a spec
: 
:   fe.exe fact spec add 
: 
: === flags ===
: 
:   -spec-file FILE   to be parsed by Fact.Spec.t_of_sexp
:   -spec-id SPEC-ID  name of fact spec
:   [-help]           print this help text and exit
:                     (alias: -?)

**** list

: list available fact specs
: 
:   fe.exe fact spec list 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-machine]                 print results in machine-style sexp format (one
:                              sexp per line) with all details, including full
:                              authorization rules
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** remove

: remove a spec
: 
:   fe.exe fact spec remove 
: 
: === flags ===
: 
:   -spec-id SPEC-ID  name of fact spec
:   [-help]           print this help text and exit
:                     (alias: -?)

** glog

: show the revision graph of the tips and bases of some features
: 
:   fe.exe glog [FEATURE ...]
: 
: === flags ===
: 
:   [--]                Give remaining arguments to hg glog
:   [-do-not-pull]      do not pull, fail if revs are unknown
:   [-subtree FEATURE]  show this feature and its descendants
:   [-help]             print this help text and exit
:                       (alias: -?)

** internal

: various commands for Iron developers
: 
:   fe.exe internal SUBCOMMAND
: 
: === subcommands ===
: 
:   archived-features-cache                      deal with the archived features
:                                                cached on the server
:   cached-attributes                            deal with cached attributes in
:                                                features
:   catch-up                                     various catch-up commands for
:                                                Iron developers and tests
:   clear-bookmarks-without-feature              clear some bookmarks without
:                                                feature in the server
:   command-rpc                                  RPC access for fe client
:   de-alias                                     de-alias a feature
:   diffs                                        compute the diffs between four
:                                                revs
:   dump                                         output part of server internal
:                                                state as a sexp
:   dynamic-upgrade                              dynamic upgrade of the server
:   event-subscriptions                          deal with long standing
:                                                connections to Iron which consume
:                                                asynchronous events
:   fully-reviewed-edge                          deal with the set of
:                                                fully-reviewed edges
:   fully-reviewed-revision                      change the set of fully-reviewed
:                                                revisions
:   hg-path                                      print out the file path for the
:                                                hg executable used by fe
:   hydra-worker                                 the part of Iron that works each
:                                                time something changes in a
:                                                repository
:   infer-base                                   guess the base of a revision
:                                                (assuming it is the tip of a
:                                                feature)
:   invariant                                    check invariant
:   mark-fully-reviewed                          DEPRECATED
:   need-diff4s-starting-from                    show review edges for all users
:   notify-on-descendant-updates                 watch for updates to a feature
:                                                and its descendants, reflect each
:                                                update on stdout as they happen
:   notify-on-feature-updates                    watch for updates and dump a
:                                                feature each time it is changed
:                                                on the server
:   process-num-lines-in-diff4                   compute num lines of a diff4
:   push-events                                  push events stored on the server
:   remove-color                                 Filter color escape chars from
:                                                stdin and output to stdout
:   render-archive-email                         output the body of the archive
:                                                email for a feature
:   render-release-email                         output the body of the release
:                                                email for a feature
:   rpc-to-server                                dealing with RPCs
:   scaffold                                     miscellaneous scaffold internal
:                                                commands
:   serverless-hydra-worker
:   session                                      various review commands for Iron
:                                                developers and tests
:   set-brains-to-goal-if-edge                   set reviewer brains to the goal
:                                                if there is already a
:                                                fully-reviewed edge
:   show-lines-required-to-separate-ddiff-hunks  show settings of lines required
:                                                to separate ddiff hunks
:   show-repo-for-hg-operations                  output the workspace that will be
:                                                used by fe commands
:   show-supported-iron-rpcs                     output a table of RPCs supported
:                                                by Iron public lib
:   terminal-width                               print the width in columns of the
:                                                terminal of stderr
:   timed-events                                 deal with asynchronous events
:                                                fired at some specific times
:   unclean-workspaces                           deal with unclean workspaces on
:                                                the server
:   worker-cache                                 deal with the attributes cached
:                                                by the hydra worker
:   help                                         explain a given subcommand
:                                                (perhaps recursively)

*** archived-features-cache

: deal with the archived features cached on the server
: 
:   fe.exe internal archived-features-cache SUBCOMMAND
: 
: Operations side affecting the cache require admin privileges.
: 
: === subcommands ===
: 
:   clear         clear archived features cache on server
:   set-max-size  set max number of items allowed in the archived features cache
:                 on server
:   show          show the items in the archived features cache
:   help          explain a given subcommand (perhaps recursively)

**** clear

: clear archived features cache on server
: 
:   fe.exe internal archived-features-cache clear 
: 
: === flags ===
: 
:   [-all]       clear all the values cached
:   [-id clear]  the value cached with that id
:   [-help]      print this help text and exit
:                (alias: -?)

**** set-max-size

: set max number of items allowed in the archived features cache on server
: 
:   fe.exe internal archived-features-cache set-max-size SIZE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: show the items in the archived features cache
: 
:   fe.exe internal archived-features-cache show 
: 
: === flags ===
: 
:   [-feature-paths]  output the ids with the feature-paths instead of the stats
:   [-id output]      the value cached with that id
:   [-help]           print this help text and exit
:                     (alias: -?)

*** cached-attributes

: deal with cached attributes in features
: 
:   fe.exe internal cached-attributes SUBCOMMAND
: 
: === subcommands ===
: 
:   check       check cached attributes in features. Correct the inconsistent ones
:   errors      deal with cached-attribute errors
:   force-set   set arbitrary cached attributes for a feature (for testing only,
:               fails in prod)
:   invalidate  force invalidation of cached attributes in features
:   help        explain a given subcommand (perhaps recursively)

**** check

: check cached attributes in features.  Correct the inconsistent ones
: 
:   fe.exe internal cached-attributes check [FEATURE ...]
: 
: === flags ===
: 
:   [-all]                     include all features
:   [-ignore-diffs-in-errors]  do not report differences between two error results
:   [-rec]                     include recursively each descendant of given
:                              features
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** errors

: deal with cached-attribute errors
: 
:   fe.exe internal cached-attributes errors SUBCOMMAND
: 
: === subcommands ===
: 
:   clear  clear cached-attribute errors on server
:   get    get cached-attribute errors on server
:   help   explain a given subcommand (perhaps recursively)

***** clear

: clear cached-attribute errors on server
: 
:   fe.exe internal cached-attributes errors clear 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** get

: get cached-attribute errors on server
: 
:   fe.exe internal cached-attributes errors get 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** force-set

: set arbitrary cached attributes for a feature (for testing only, fails in prod)
: 
:   fe.exe internal cached-attributes force-set [FEATURE]
: 
: === flags ===
: 
:   -next-steps SEXP        specify value for next steps
:   [-skip-post-rpc-check]  do not perform post RPC cached check
:   [-help]                 print this help text and exit
:                           (alias: -?)

**** invalidate

: force invalidation of cached attributes in features
: 
:   fe.exe internal cached-attributes invalidate [FEATURE ...]
: 
: === flags ===
: 
:   [-all]   include all features
:   [-rec]   include recursively each descendant of given features
:   [-help]  print this help text and exit
:            (alias: -?)

*** catch-up

: various catch-up commands for Iron developers and tests
: 
:   fe.exe internal catch-up SUBCOMMAND
: 
: === subcommands ===
: 
:   mark-file       mark as caught up files in a catch-up session
:   mark-id         mark as caught up diffs in a catch-up session
:   show-num-lines  show the number of lines remaining to catch up
:   help            explain a given subcommand (perhaps recursively)

**** mark-file

: mark as caught up files in a catch-up session
: 
:   fe.exe internal catch-up mark-file FEATURE [FILE ...]
: 
: This command is deprecated and has been subsumed by [fe catch-up mark-file].
: 
: 
: === flags ===
: 
:   [-for USER]               for user (default is unix login)
:   [-session-id SESSION_ID]  fail if the current session id is not the one
:                             supplied
:   [-help]                   print this help text and exit
:                             (alias: -?)

**** mark-id

: mark as caught up diffs in a catch-up session
: 
:   fe.exe internal catch-up mark-id FEATURE
: 
: === flags ===
: 
:   -session-id SESSION_ID  session id
:   [-diff-id DIFF_ID]      diff id
:   [-for USER]             for user (default is unix login)
:   [-help]                 print this help text and exit
:                           (alias: -?)

**** show-num-lines

: show the number of lines remaining to catch up
: 
:   fe.exe internal catch-up show-num-lines [FEATURE]
: 
: === flags ===
: 
:   [-for USER]  for user (default is unix login)
:   [-help]      print this help text and exit
:                (alias: -?)

*** clear-bookmarks-without-feature

: clear some bookmarks without feature in the server
: 
:   fe.exe internal clear-bookmarks-without-feature PATH
: 
: 
: Provide the PATH to the repo on the HG machine.  Typically:
:   ssh://hg//hg/${REPO}/submissions
: 
: This requires admin privileges.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** command-rpc

: RPC access for fe client
: 
:   fe.exe internal command-rpc SUBCOMMAND
: 
: === subcommands ===
: 
:   call                   spawn local command RPC server
:   referenced-by-fe-file  output a table of command RPCs referenced by the [Fe]
:                          module in the Iron public lib
:   supported-by-command   output a table of command RPCs implemented by the
:                          binary
:   supported-by-iron-lib  output a table of command RPCs supported by Iron public
:                          lib
:   help                   explain a given subcommand (perhaps recursively)

**** call

: spawn local command RPC server
: 
:   fe.exe internal command-rpc call 
: 
: === flags ===
: 
:   [-menu]  dump a sexp representation of the rpc menu
:   [-sexp]  speak sexp instead of bin-prot
:   [-help]  print this help text and exit
:            (alias: -?)

**** referenced-by-fe-file

: output a table of command RPCs referenced by the [Fe] module in the Iron public lib
: 
:   fe.exe internal command-rpc referenced-by-fe-file 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** supported-by-command

: output a table of command RPCs implemented by the binary
: 
:   fe.exe internal command-rpc supported-by-command 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** supported-by-iron-lib

: output a table of command RPCs supported by Iron public lib
: 
:   fe.exe internal command-rpc supported-by-iron-lib 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-names-only]              output names only
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** de-alias

: de-alias a feature
: 
:   fe.exe internal de-alias [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** diffs

: compute the diffs between four revs
: 
:   fe.exe internal diffs B1 F1 B2 F2
: 
: === flags ===
: 
:   [-lines-required-to-separate-ddiff-hunks INT]  required spacing to separate
:                                                  two ddiff hunks (default 0)
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

*** dump

: output part of server internal state as a sexp
: 
:   fe.exe internal dump SUBCOMMAND
: 
: === subcommands ===
: 
:   bookmarks-without-feature  output bookmarks that don't have a feature
:   feature                    output a feature
:   hash-consing-cache         output stats or values of the hash-consing cache
:   review-analysis            output the review analysis of a feature
:   review-lines               output details of review lines
:   review-manager             output a review manager
:   state                      output the entire server state
:   user-info                  output user info
:   help                       explain a given subcommand (perhaps recursively)

**** bookmarks-without-feature

: output bookmarks that don't have a feature
: 
:   fe.exe internal dump bookmarks-without-feature 
: 
: === flags ===
: 
:   [-for USER|all]          for user (default is unix login)
:   [-remote-repo-path URL]  location of the shared repo (e.g., ssh://...)
:   [-help]                  print this help text and exit
:                            (alias: -?)

**** feature

: output a feature
: 
:   fe.exe internal dump feature [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** hash-consing-cache

: output stats or values of the hash-consing cache
: 
:   fe.exe internal dump hash-consing-cache 
: 
: === flags ===
: 
:   [-hash-data module_name]      values and hash data for a particular module
:   [-module-values module_name]  output the whole values for a particular module
:   [-values]                     output the whole values instead of the stats
:   [-help]                       print this help text and exit
:                                 (alias: -?)

**** review-analysis

: output the review analysis of a feature
: 
:   fe.exe internal dump review-analysis [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** review-lines

: output details of review lines
: 
:   fe.exe internal dump review-lines [FEATURE]
: 
: === flags ===
: 
:   [-for USER|all]  for user (default is unix login)
:   [-help]          print this help text and exit
:                    (alias: -?)

**** review-manager

: output a review manager
: 
:   fe.exe internal dump review-manager [FEATURE]
: 
: === flags ===
: 
:   [-for USER|all]  for user (default is unix login)
:   [-help]          print this help text and exit
:                    (alias: -?)

**** state

: output the entire server state
: 
:   fe.exe internal dump state 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** user-info

: output user info
: 
:   fe.exe internal dump user-info SUBCOMMAND
: 
: === subcommands ===
: 
:   aliases         output map from alias to user name
:   existing-users  output existing user names
:   typos           output map from typo to user name
:   valid-users     output valid user names
:   help            explain a given subcommand (perhaps recursively)

***** aliases

: output map from alias to user name
: 
:   fe.exe internal dump user-info aliases 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** existing-users

: output existing user names
: 
:   fe.exe internal dump user-info existing-users 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** typos

: output map from typo to user name
: 
:   fe.exe internal dump user-info typos 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** valid-users

: output valid user names
: 
:   fe.exe internal dump user-info valid-users 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** dynamic-upgrade

: dynamic upgrade of the server
: 
:   fe.exe internal dynamic-upgrade SUBCOMMAND
: 
: When a roll introduces new persisted types, typically there is a period of time directly
: following the roll during which we prevent values from being persisted if they cannot be
: deserialized by the previous binary.  The reason is that we want to be able to roll back:
: the previous binary needs to be able to reload the persisted state.  Those non backward
: compatible changes are identified and grouped by [upgrades].
: 
: An admin can dynamically enable a new upgrade, by calling the relevant RPC.  By doing so
: they commit to the changes and give up the ability to roll back.
: 
: 
: === subcommands ===
: 
:   set   set the dynamic upgrade state
:   show  show the dynamic upgrade state
:   help  explain a given subcommand (perhaps recursively)

**** set

: set the dynamic upgrade state
: 
:   fe.exe internal dynamic-upgrade set UPGRADE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: show the dynamic upgrade state
: 
:   fe.exe internal dynamic-upgrade show 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** event-subscriptions

: deal with long standing connections to Iron which consume asynchronous events
: 
:   fe.exe internal event-subscriptions SUBCOMMAND
: 
: Operations side effecting the subscriptions require admin privileges.
: 
: 
: === subcommands ===
: 
:   drop-all-by-users               drop all subscriptions opened by a particular
:                                   user or all users
:   set-max-subscriptions-global    set the maximum number of subscriptions
:                                   globally
:   set-max-subscriptions-per-user  set the maximum number of subscriptions per
:                                   user
:   show                            output the current limits and subscriptions
:   help                            explain a given subcommand (perhaps
:                                   recursively)

**** drop-all-by-users

: drop all subscriptions opened by a particular user or all users
: 
:   fe.exe internal event-subscriptions drop-all-by-users 
: 
: === flags ===
: 
:   -for     USER|all
:   [-help]  print this help text and exit
:            (alias: -?)

**** set-max-subscriptions-global

: set the maximum number of subscriptions globally
: 
:   fe.exe internal event-subscriptions set-max-subscriptions-global MAX
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** set-max-subscriptions-per-user

: set the maximum number of subscriptions per user
: 
:   fe.exe internal event-subscriptions set-max-subscriptions-per-user MAX
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: output the current limits and subscriptions
: 
:   fe.exe internal event-subscriptions show 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** fully-reviewed-edge

: deal with the set of fully-reviewed edges
: 
:   fe.exe internal fully-reviewed-edge SUBCOMMAND
: 
: === subcommands ===
: 
:   add   add a fully-reviewed edge
:   help  explain a given subcommand (perhaps recursively)

**** add

: add a fully-reviewed edge
: 
:   fe.exe internal fully-reviewed-edge add 
: 
: This command is unsound because it marks an arbitrary edge as fully-reviewed.  This
: requires admin privileges.  To mark as fully-reviewed the edge of a releasable feature,
: see instead the user-facing command:
: 
:   $ fe tools fully-reviewed-edge add
: 
: 
: === flags ===
: 
:   -from    REV
:   -to      REV
:   [-help]  print this help text and exit
:            (alias: -?)

*** fully-reviewed-revision

: change the set of fully-reviewed revisions
: 
:   fe.exe internal fully-reviewed-revision SUBCOMMAND
: 
: === subcommands ===
: 
:   add     add a fully-reviewed revision
:   remove  remove a fully-reviewed revision
:   help    explain a given subcommand (perhaps recursively)

**** add

: add a fully-reviewed revision
: 
:   fe.exe internal fully-reviewed-revision add REV
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** remove

: remove a fully-reviewed revision
: 
:   fe.exe internal fully-reviewed-revision remove REV
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** hg-path

: print out the file path for the hg executable used by fe
: 
:   fe.exe internal hg-path 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** hydra-worker

: the part of Iron that works each time something changes in a repository
: 
:   fe.exe internal hydra-worker 
: 
: === flags ===
: 
:   [-fake-attribute-by-rev map]  eg. ((rev1 attribute) (rev2 attributes)), for
:                                 use with -fake-valid-obligations
:   [-fake-valid-obligations]     pretend to call the obligations lib, for testing
:   [-profile]                    print information about where the time is spent
:   [-run-between-rpcs script]    a string to be interpreted by bash to run
:                                 between the two rpcs, to test race conditions
:   [-help]                       print this help text and exit
:                                 (alias: -?)

*** infer-base

: guess the base of a revision (assuming it is the tip of a feature)
: 
:   fe.exe internal infer-base REV [REMOTE_REPO_PATH]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** invariant

: check invariant
: 
:   fe.exe internal invariant SUBCOMMAND
: 
: === subcommands ===
: 
:   check-workspaces   DEPRECATED
:   included-features  check that feature tip descends from every included
:                      feature's tip
:   server-state       check server-state invariant
:   help               explain a given subcommand (perhaps recursively)

**** check-workspaces

: DEPRECATED
: 
:   fe.exe internal invariant check-workspaces [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** included-features

: check that feature tip descends from every included feature's tip
: 
:   fe.exe internal invariant included-features [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** server-state

: check server-state invariant
: 
:   fe.exe internal invariant server-state SUBCOMMAND
: 
: === subcommands ===
: 
:   check-backup-in           check a backup in a directory
:   check-most-recent-backup  check the most recent backup of prod
:   check-running-server      check the running server
:   help                      explain a given subcommand (perhaps recursively)

***** check-backup-in

: check a backup in a directory
: 
:   fe.exe internal invariant server-state check-backup-in ROOT_DIRECTORY
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** check-most-recent-backup

: check the most recent backup of prod
: 
:   fe.exe internal invariant server-state check-most-recent-backup 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** check-running-server

: check the running server
: 
:   fe.exe internal invariant server-state check-running-server 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** mark-fully-reviewed

: DEPRECATED
: 
:   fe.exe internal mark-fully-reviewed [IGNORED ...]
: 
: This command has been moved to: [fe tools mark-fully-reviewed]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** need-diff4s-starting-from

: show review edges for all users
: 
:   fe.exe internal need-diff4s-starting-from [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** notify-on-descendant-updates

: watch for updates to a feature and its descendants, reflect each update on stdout as they happen
: 
:   fe.exe internal notify-on-descendant-updates [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** notify-on-feature-updates

: watch for updates and dump a feature each time it is changed on the server
: 
:   fe.exe internal notify-on-feature-updates 
: 
: === flags ===
: 
:   -id FEATURE_ID  feature id
:   [-help]         print this help text and exit
:                   (alias: -?)

*** process-num-lines-in-diff4

: compute num lines of a diff4
: 
:   fe.exe internal process-num-lines-in-diff4 ACTION-SEXP
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** push-events

: push events stored on the server
: 
:   fe.exe internal push-events SUBCOMMAND
: 
: Operations side effecting the push events state require admin privileges.
: 
: 
: === subcommands ===
: 
:   clear                     clear push events
:   set-max-size-per-feature  set max number of push events per feature stored in
:                             state
:   show                      show push events
:   help                      explain a given subcommand (perhaps recursively)

**** clear

: clear push events
: 
:   fe.exe internal push-events clear 
: 
: === flags ===
: 
:   [-all]            clear the entire state
:   [-id FEATURE_ID]  feature id
:   [-rev REV]        revision(s) to be cleared from state
:   [-user USER]      clear events attached to the supplied username
:   [-help]           print this help text and exit
:                     (alias: -?)

**** set-max-size-per-feature

: set max number of push events per feature stored in state
: 
:   fe.exe internal push-events set-max-size-per-feature SIZE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: show push events
: 
:   fe.exe internal push-events show 
: 
: === flags ===
: 
:   [-id FEATURE_ID]  feature id
:   [-user USER]      show push events of USER
:   [-values]         show all values
:   [-help]           print this help text and exit
:                     (alias: -?)

*** remove-color

: Filter color escape chars from stdin and output to stdout
: 
:   fe.exe internal remove-color 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** render-archive-email

: output the body of the archive email for a feature
: 
:   fe.exe internal render-archive-email [FEATURE]
: 
: === flags ===
: 
:   [-order-included-features-by-decreasing-release-time]  display included
:                                                          features from newest to
:                                                          oldest
:   [-order-included-features-by-release-time]             display included
:                                                          features from oldest to
:                                                          newest
:   [-reason REASON]                                       why you are archiving
:                                                          this feature
:   [-help]                                                print this help text
:                                                          and exit
:                                                          (alias: -?)

*** render-release-email

: output the body of the release email for a feature
: 
:   fe.exe internal render-release-email [FEATURE]
: 
: === flags ===
: 
:   [-order-included-features-by-decreasing-release-time]  display included
:                                                          features from newest to
:                                                          oldest
:   [-order-included-features-by-release-time]             display included
:                                                          features from oldest to
:                                                          newest
:   [-help]                                                print this help text
:                                                          and exit
:                                                          (alias: -?)

*** rpc-to-server

: dealing with RPCs
: 
:   fe.exe internal rpc-to-server SUBCOMMAND
: 
: === subcommands ===
: 
:   call                 call the given RPC using stdin for the action and stdout
:                        for the reaction
:   supported-by-client  output a table of RPCs supported by this executable
:   supported-by-server  output a table of RPCs supported by Iron server
:   help                 explain a given subcommand (perhaps recursively)

**** call

: call the given RPC using stdin for the action and stdout for the reaction
: 
:   fe.exe internal rpc-to-server call RPC
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** supported-by-client

: output a table of RPCs supported by this executable
: 
:   fe.exe internal rpc-to-server supported-by-client 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** supported-by-server

: output a table of RPCs supported by Iron server
: 
:   fe.exe internal rpc-to-server supported-by-server 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** scaffold

: miscellaneous scaffold internal commands
: 
:   fe.exe internal scaffold SUBCOMMAND
: 
: === subcommands ===
: 
:   print  parse and print Iron representation of a scaffold.sexp file
:   help   explain a given subcommand (perhaps recursively)

**** print

: parse and print Iron representation of a scaffold.sexp file
: 
:   fe.exe internal scaffold print PATH/TO/SCAFFOLD.SEXP
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** serverless-hydra-worker

: fe.exe internal serverless-hydra-worker 
: 
: === flags ===
: 
:   [-base REV]                                    the assumed base of the feature
:   [-lines-required-to-separate-ddiff-hunks INT]  required spacing to separate
:                                                  two ddiff hunks (default 0)
:   [-profile]                                     print information about where
:                                                  the time is spent
:   [-review-manager]                              base,tip
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

*** session

: various review commands for Iron developers and tests
: 
:   fe.exe internal session SUBCOMMAND
: 
: === subcommands ===
: 
:   mark-file       mark some files as reviewed
:   mark-id         mark some of the diffs as reviewed in the current session
:   show-num-lines  Show the number of lines remaining to review in the session
:   help            explain a given subcommand (perhaps recursively)

**** mark-file

: mark some files as reviewed
: 
:   fe.exe internal session mark-file FEATURE [FILE ...]
: 
: This command is deprecated and has been subsumed by [fe session mark-file].
: 
: 
: === flags ===
: 
:   [-create-catch-up-for-me]                   create catch-up review even when
:                                               reviewing for oneself
:   [-even-if-some-files-are-already-reviewed]  do not fail if some files are
:                                               already reviewed
:   [-for USER]                                 for user (default is unix login)
:   [-reason REASON]                            why you are reviewing this for
:                                               someone else
:   [-session-id SESSION_ID]                    fail if the current session id is
:                                               not the one supplied
:   [-help]                                     print this help text and exit
:                                               (alias: -?)

**** mark-id

: mark some of the diffs as reviewed in the current session
: 
:   fe.exe internal session mark-id FEATURE
: 
: === flags ===
: 
:   -session-id SESSION_ID                      session id
:   [-create-catch-up-for-me]                   create catch-up review even when
:                                               reviewing for oneself
:   [-diff-id DIFF_ID]                          diff id
:   [-even-if-some-files-are-already-reviewed]  do not fail if some files are
:                                               already reviewed
:   [-for USER]                                 for user (default is unix login)
:   [-reason REASON]                            why you are reviewing this for
:                                               someone else
:   [-help]                                     print this help text and exit
:                                               (alias: -?)

**** show-num-lines

: Show the number of lines remaining to review in the session
: 
:   fe.exe internal session show-num-lines [FEATURE]
: 
: === flags ===
: 
:   [-for USER]               for user (default is unix login)
:   [-session-id SESSION_ID]  fail if the current session id is not the one
:                             supplied
:   [-help]                   print this help text and exit
:                             (alias: -?)

*** set-brains-to-goal-if-edge

: set reviewer brains to the goal if there is already a fully-reviewed edge
: 
:   fe.exe internal set-brains-to-goal-if-edge [FEATURE]
: 
: This command is useful when Iron's notion of review goal changes, causing features that
: were previously fully reviewed to become unreviewed.  In that situation, we typically want
: the review-goal change to apply to unreviewed features, but not reviewed ones.  So, we
: can use this command to adjust the reviewed ones.
: 
: This command does not generate catchup review.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** show-lines-required-to-separate-ddiff-hunks

: show settings of lines required to separate ddiff hunks
: 
:   fe.exe internal show-lines-required-to-separate-ddiff-hunks 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** show-repo-for-hg-operations

: output the workspace that will be used by fe commands
: 
:   fe.exe internal show-repo-for-hg-operations [FEATURE]
: 
: === flags ===
: 
:   [-use-clone-instead-of-share]  use clone of feature root instead of the
:                                  feature share
:   [-help]                        print this help text and exit
:                                  (alias: -?)

*** show-supported-iron-rpcs

: output a table of RPCs supported by Iron public lib
: 
:   fe.exe internal show-supported-iron-rpcs 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-sexp]                    output in sexp format
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** terminal-width

: print the width in columns of the terminal of stderr
: 
:   fe.exe internal terminal-width 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** timed-events

: deal with asynchronous events fired at some specific times
: 
:   fe.exe internal timed-events SUBCOMMAND
: 
: === subcommands ===
: 
:   errors  deal with time event execution errors stored on server
:   show    dump the timed event table state
:   help    explain a given subcommand (perhaps recursively)

**** errors

: deal with time event execution errors stored on server
: 
:   fe.exe internal timed-events errors SUBCOMMAND
: 
: === subcommands ===
: 
:   clear  clear time event execution errors stored on server
:   get    get time event execution errors stored on server
:   help   explain a given subcommand (perhaps recursively)

***** clear

: clear time event execution errors stored on server
: 
:   fe.exe internal timed-events errors clear 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

***** get

: get time event execution errors stored on server
: 
:   fe.exe internal timed-events errors get 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: dump the timed event table state
: 
:   fe.exe internal timed-events show 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** unclean-workspaces

: deal with unclean workspaces on the server
: 
:   fe.exe internal unclean-workspaces SUBCOMMAND
: 
: Operations side effecting someone else's state require admin privileges.
: 
: 
: === subcommands ===
: 
:   remove-machine  DEPRECATED
:   remove-user     clear unclean workspaces associated with a USER on the server
:   help            explain a given subcommand (perhaps recursively)

**** remove-machine

: DEPRECATED
: 
:   fe.exe internal unclean-workspaces remove-machine [IGNORED ...]
: 
: This command has been moved to: [fe workspace unclean remove-machine]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** remove-user

: clear unclean workspaces associated with a USER on the server
: 
:   fe.exe internal unclean-workspaces remove-user USER
: 
: This command may be run by the USER, otherwise admin privileges are required.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** worker-cache

: deal with the attributes cached by the hydra worker
: 
:   fe.exe internal worker-cache SUBCOMMAND
: 
: Operations side effecting the cache require admin privileges.
: 
: 
: === subcommands ===
: 
:   analyze-obligations    load and analyze multiple obligations report files
:   clear                  clear worker cache on server
:   set-max-items-per-rpc  set max number of items allowed to be sent at once
:                          between hydra and Iron
:   set-max-size           set max number of items allowed in the worker cache on
:                          server
:   set-status             change the activation status of the worker cache
:   show                   output the worker cache
:   help                   explain a given subcommand (perhaps recursively)

**** analyze-obligations

: load and analyze multiple obligations report files
: 
:   fe.exe internal worker-cache analyze-obligations [obligations-report.sexp, [..] ...]
: 
: The command expects to be given obligations files obtained by call to the command:
: 
:   $ fe obligations report -stable
: 
: from the same repo, built at various revisions.  The files are then going to be parsed,
: and transformed into the worker-cache representation on the server.  Then several stats
: are given.
: 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** clear

: clear worker cache on server
: 
:   fe.exe internal worker-cache clear [FEATURE ...]
: 
: === flags ===
: 
:   [-all]      include all features
:   [-rec]      include recursively each descendant of given features
:   [-rev REV]  revision(s) to be cleared in the cache
:   [-help]     print this help text and exit
:               (alias: -?)

**** set-max-items-per-rpc

: set max number of items allowed to be sent at once between hydra and Iron
: 
:   fe.exe internal worker-cache set-max-items-per-rpc SIZE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** set-max-size

: set max number of items allowed in the worker cache on server
: 
:   fe.exe internal worker-cache set-max-size SIZE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** set-status

: change the activation status of the worker cache
: 
:   fe.exe internal worker-cache set-status STATUS
: 
: For robustness and testing purposes the worker cache can be partially or totally disabled.
: Accepted values for the STATUS are:
: 
: disabled:
:   No cached values are sent to the worker.
:   New values computed by the worker are ignored.
: 
: write-only:
:   No cached values are sent to the worker.
:   New values computed by the worker are added to the cache on the server.
: 
: read-write:
:   Relevant cached values are sent to the worker.
:   New values computed by the worker are added to the cache for later use.
: 
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

**** show

: output the worker cache
: 
:   fe.exe internal worker-cache show 
: 
: === flags ===
: 
:   [-obligations-at-rev REV]  dump cached obligations report for a given revision
:   [-revs]                    dump the revs for which there are cached values
:   [-values-at-rev REV]       dump cached values for a given revision
:   [-help]                    print this help text and exit
:                              (alias: -?)

** is-releasable

: check whether a feature is releasable
: 
:   fe.exe is-releasable [FEATURE]
: 
: Exit status zero if a feature is releasable, else exit nonzero with reasons on stderr.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** is-unlocked

: check if locks are unlocked
: 
:   fe.exe is-unlocked [FEATURE]
: 
: [fe is-unlocked] exits status zero if the supplied locks are unlocked. Otherwise, it
: exits nonzero and prints a message on stderr.  You must supply at least one lock, or
: use [-all-locks].
: 
: To see what is locked for a feature, use:
: 
:   $ fe show -what-is-locked [FEATURE]
: 
: 
: === flags ===
: 
:   [-all-locks]     check all locks
:   [-create-child]  create-child
:   [-rebase]        rebase
:   [-release-into]  release-into
:   [-release]       release
:   [-rename]        rename
:   [-second]        second
:   [-help]          print this help text and exit
:                    (alias: -?)

** list

: list descendants of a feature
: 
:   fe.exe list [FEATURE]
: 
: === flags ===
: 
:   [-archived]                           list archived features
:   [-depth {DEPTH|max}]                  show descendants DEPTH levels down
:                                         (default is 1)
:   [-display-ascii]                      display ASCII characters, with no ANSI
:                                         color escapes or unicode characters
:   [-max-output-columns INT]             maximum column width for table output
:   [-name-only]                          show only the feature names, one per
:                                         line
:   [-sort-most-recently-archived-first]  show most recently archived features
:                                         first. Implies [-archived]
:   [-help]                               print this help text and exit
:                                         (alias: -?)

** lock

: lock some of a feature's locks
: 
:   fe.exe lock [FEATURE]
: 
: [fe lock] can be used to prevent users from performing certain actions on a feature.
: For example, [fe lock -release] will prevent users from releasing a feature.
: 
: [fe lock] can be used to change the reason for an existing lock or lock new locks.
: Modifying existing locks can be done only by the person who locked them.
: For example:
: 
:   $ fe lock -rebase          -reason 'initial reason'
:   $ fe lock -rebase -release -reason 'updated reason'
: 
: Locks may be made permanent by supplying [-permanent] as a way to emphasis that
: the lock is intended for a non transient period.  For example, certain features
: are not meant to be ever released.
: 
: Use [fe unlock] to unlock a lock.  To see what is locked for a feature, use:
: 
:   $ fe show -what-is-locked [FEATURE]
: 
: 
: === flags ===
: 
:   -reason REASON   reason for locking
:   [-create-child]  create-child
:   [-for USER]      for user (default is unix login)
:   [-permanent]     make the lock permanent
:   [-rebase]        rebase
:   [-release-into]  release-into
:   [-release]       release
:   [-rename]        rename
:   [-second]        second
:   [-verbose]       be more verbose
:   [-help]          print this help text and exit
:                    (alias: -?)

** log

: show a log of the changesets in a feature
: 
:   fe.exe log [FEATURE]
: 
: === flags ===
: 
:   [--]     pass the remaining arguments to 'hg log'
:   [-help]  print this help text and exit
:            (alias: -?)

** obligations

: process Iron obligations files
: 
:   fe.exe obligations SUBCOMMAND
: 
: === subcommands ===
: 
:   allow-review-for         output the permission settings for review done by
:                            others
:   check                    check obligations of the current subtree
:   list-groups              output all groups defined in obligations files, one
:                            per line
:   list-projections         output all build-projection names, one per line
:   list-users               output all users defined in obligations files, one
:                            per line
:   list-users-in-groups     output all users verifying a group blang, one per
:                            line
:   projection               output build projection(s)
:   report                   output attributes of all files in the current subtree
:   show                     show obligations for a single file
:   update-low-review-files  update .fe/low-review-in-* files
:   help                     explain a given subcommand (perhaps recursively)

*** allow-review-for

: output the permission settings for review done by others
: 
:   fe.exe obligations allow-review-for 
: 
: === flags ===
: 
:   [-resolve-aliases]  resolve user names using latest aliases from iron server
:   [-rev REV]          load the obligations at REV (default: working directory)
:   [-help]             print this help text and exit
:                       (alias: -?)

*** check

: check obligations of the current subtree
: 
:   fe.exe obligations check 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** list-groups

: output all groups defined in obligations files, one per line
: 
:   fe.exe obligations list-groups 
: 
: === flags ===
: 
:   [-resolve-aliases]  resolve user names using latest aliases from iron server
:   [-rev REV]          load the obligations at REV (default: working directory)
:   [-help]             print this help text and exit
:                       (alias: -?)

*** list-projections

: output all build-projection names, one per line
: 
:   fe.exe obligations list-projections 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** list-users

: output all users defined in obligations files, one per line
: 
:   fe.exe obligations list-users 
: 
: === flags ===
: 
:   [-resolve-aliases]  resolve user names using latest aliases from iron server
:   [-rev REV]          load the obligations at REV (default: working directory)
:   [-help]             print this help text and exit
:                       (alias: -?)

*** list-users-in-groups

: output all users verifying a group blang, one per line
: 
:   fe.exe obligations list-users-in-groups <GROUP-BLANG>
: 
: === flags ===
: 
:   [-resolve-aliases]  resolve user names using latest aliases from iron server
:   [-rev REV]          load the obligations at REV (default: working directory)
:   [-help]             print this help text and exit
:                       (alias: -?)

*** projection

: output build projection(s)
: 
:   fe.exe obligations projection [PROJECTION ...]
: 
: Output union of build projections, one file per line, sorted alphabetically.
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** report

: output attributes of all files in the current subtree
: 
:   fe.exe obligations report 
: 
: === flags ===
: 
:   [-resolve-aliases]  query server for aliases and resolve them in computed
:                       report
:   [-stable]           output the values using stable sexp types to repart them
:                       later
:   [-help]             print this help text and exit
:                       (alias: -?)

*** show

: show obligations for a single file
: 
:   fe.exe obligations show FILE
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-display-in-table]        display output as a table rather than a sexp
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** update-low-review-files

: update .fe/low-review-in-* files
: 
:   fe.exe obligations update-low-review-files 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** projects

: handle tagged files and projects directories
: 
:   fe.exe projects SUBCOMMAND
: 
: === subcommands ===
: 
:   list       list projects found in the repo
:   list-tags  output all known tags, one per line
:   search     search for a regexp in the project tags and README contents
:   help       explain a given subcommand (perhaps recursively)

*** list

: list projects found in the repo
: 
:   fe.exe projects list 
: 
: List projects.  Restrict to projects satisfying a given tag blang expression.
: 
: === flags ===
: 
:   [-directory-only]          only output the directories of the projects
:   [-max-output-columns INT]  maximum column width for table output
:   [-show-readme]             include the entire README file in the output
:   [-tag (TAG-BLANG)]         restrict to projects satisfying a tag blang
:                              expression
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** list-tags

: output all known tags, one per line
: 
:   fe.exe projects list-tags 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** search

: search for a regexp in the project tags and README contents
: 
:   fe.exe projects search REGEXP
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** rebase

: rebase a feature
: 
:   fe.exe rebase [FEATURE]
: 
: === flags ===
: 
:   [-abort-on-merge-conflicts]     abort the rebase and fail if a merge is
:                                   performed and creates conflicts markers
:   [-allow-non-cr-clean-new-base]  rebase even though the new base isn't CR clean
:   [-for USER]                     for user (default is unix login)
:   [-interactive BOOL]             be interactive via the terminal (default is
:                                   false)
:   [-new-base REV]
:   [-help]                         print this help text and exit
:                                   (alias: -?)

** release

: release a feature, and archive it if possible
: 
:   fe.exe release [FEATURE]
: 
: === flags ===
: 
:   [-for USER]                                            for user (default is
:                                                          unix login)
:   [-interactive BOOL]                                    be interactive via the
:                                                          terminal (default is
:                                                          false)
:   [-order-included-features-by-decreasing-release-time]  display included
:                                                          features from newest to
:                                                          oldest
:   [-order-included-features-by-release-time]             display included
:                                                          features from oldest to
:                                                          newest
:   [-help]                                                print this help text
:                                                          and exit
:                                                          (alias: -?)

** remind

: email a code review reminder
: 
:   fe.exe remind [FEATURE]
: 
: When run interactively the command will show the remind message and give the user the
: opportunity to edit it.  Otherwise, the email is sent without requiring a confirmation.
: 
: 
: === flags ===
: 
:   [-cc USER[,USER...]]
:   [-display-ascii]                   display ASCII characters, with no ANSI
:                                      color escapes or unicode characters
:   [-interactive BOOL]                be interactive via the terminal (default is
:                                      false)
:   [-just-print-recipients-and-exit]  print the recipients list and exit 0
:   [-users USER[,USER...]]
:   [-help]                            print this help text and exit
:                                      (alias: -?)

** rename

: rename a feature (and all features below it)
: 
:   fe.exe rename FEATURE [FEATURE]
: 
: The target feature is not restricted to be a sibling of the original feature, i.e.
: renaming [jane/a/b] to [jane/c] (or vice versa) is permissible.
: 
: Using [-skip-gca-check] skips the check that the greatest common ancestor of the current
: tip and the new base is the current base.  Skipping the check may mean future rebases and
: renames will be rejected.
: 
: When the basename of the feature is not meant to change, one can use [-new-parent].
: For example, to rename [jane/a/keep-this-basename] into [jane/b/keep-this-basename]:
: 
:   $ fe rename jane/a/keep-this-basename -new-parent jane/b
: 
: 
: === flags ===
: 
:   [-even-if-locked]      DEPRECATED -- will be removed soon in a subsequent roll
:   [-new-parent FEATURE]  Keep the same basename for the feature, rename it as a
:                          child of the supplied parent feature.
:   [-skip-gca-check]      <see above>
:   [-help]                print this help text and exit
:                          (alias: -?)

** review

: start or continue a review session
: 
:   fe.exe review [FEATURE]
: 
: [fe review] can be used to see lines to review in a feature and mark them as reviewed.
: 
: When there are both [review] and [catch-up] lines to review, the latter are prioritized
: and shown first.  For more control over what to review, see the switches:
: 
:   -skip-catch-up-review
:   -only-catch-up-review
: 
: Attending someone else's review may be done if authorized, and requires the reviewer
: to supply a brief reason.  Example:
: 
:   $ fe review -for USER1 -reason 'you are out sick today'
: 
: By default, reviewing for someone else skips the catch-up review.  Attending someone
: else's catch-up requires admin privileges, and may be done with:
: 
:   $ fe review -only-catch-up-review -for USER
: 
: 
: === flags ===
: 
:   [-context N]                                   number of lines of context to
:                                                  show (default 12)
:   [-create-catch-up-for-me]                      create catch-up review even
:                                                  when reviewing for oneself
:   [-do-not-modify-local-repo]                    don't run hg commands that
:                                                  modify the local repo
:   [-emacs]                                       visit files in emacs
:   [-file FILE]                                   show only specified file(s)
:   [-for USER]                                    for user (default is unix
:                                                  login)
:   [-interactive BOOL]                            be interactive via the terminal
:                                                  (default is false)
:   [-lines-required-to-separate-ddiff-hunks INT]  override the required spacing
:                                                  to separate two ddiff hunks
:   [-max-output-columns INT]                      maximum column width for table
:                                                  output
:   [-only-catch-up-review]                        only attend the catch-up review
:   [-raw]                                         show Iron's internal
:                                                  representation of the review
:   [-reason REASON]                               why you are reviewing this for
:                                                  someone else
:   [-skip-catch-up-review]                        skip the catch-up part when
:                                                  there are both catch-up and
:                                                  review to do
:   [-sort FILE]                                   order the files to be reviewed
:                                                  using the list in this file.
:   [-sort-build-order]                            attempt to sort files in build
:                                                  order, computed via build
:                                                  artifacts
:   [-sort-by-decreasing-lines]                    order the files to be reviewed
:                                                  by increasing number of lines
:                                                  to review.
:   [-sort-by-increasing-lines]                    order the files to be reviewed
:                                                  by increasing number of lines
:                                                  to review.
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

** second

: state that a feature is ready to be reviewed by everyone
: 
:   fe.exe second [FEATURE]
: 
: The recommended workflow is to find a non-owner whole-feature reviewer to act as the
: seconder.  If you need to second even though you are an owner, use:
: 
:   $ fe second -even-though-owner [FEATURE]
: 
: For a permanent feature acting as an umbrella feature for development in child
: features, one can second it once and for all using:
: 
:   $ fe second -even-though-empty [FEATURE]
: 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-even-though-empty]       allow seconding of an empty feature
:   [-even-though-owner]       allow seconding by a feature owner
:   [-interactive BOOL]        be interactive via the terminal (default is false)
:   [-max-output-columns INT]  maximum column width for table output
:   [-help]                    print this help text and exit
:                              (alias: -?)

** session

: manage your current review session for a feature
: 
:   fe.exe session SUBCOMMAND
: 
: === subcommands ===
: 
:   commit     finish the current session, adding reviewed diffs to the brain
:   diff       show diffs from the current session
:   forget     forget previously reviewed diffs in the current session
:   lock       lock the current session, prevent it from being deleted if not
:              reviewed
:   mark-file  mark some files as reviewed
:   show       show attributes of a session
:   unlock     unlock the current session
:   help       explain a given subcommand (perhaps recursively)

*** commit

: finish the current session, adding reviewed diffs to the brain
: 
:   fe.exe session commit [FEATURE]
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-for USER]                for user (default is unix login)
:   [-max-output-columns INT]  maximum column width for table output
:   [-session-id SESSION_ID]   fail if the current session id is not the one
:                              supplied
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** diff

: show diffs from the current session
: 
:   fe.exe session diff [FEATURE]
: 
: === flags ===
: 
:   [-context N]                                   number of lines of context to
:                                                  show (default 12)
:   [-do-not-lock-session]                         do not lock the session
:   [-do-not-modify-local-repo]                    don't run hg commands that
:                                                  modify the local repo
:   [-file FILE]                                   show only specified files
:   [-for USER]                                    for user (default is unix
:                                                  login)
:   [-lines-required-to-separate-ddiff-hunks INT]  override the required spacing
:                                                  to separate two ddiff hunks
:   [-reviewed]                                    show only already reviewed
:                                                  diffs
:   [-session-id SESSION_ID]                       fail if the current session id
:                                                  is not the one supplied
:   [-unreviewed]                                  show only unreviewed diffs
:   [-help]                                        print this help text and exit
:                                                  (alias: -?)

*** forget

: forget previously reviewed diffs in the current session
: 
:   fe.exe session forget [FEATURE]
: 
: === flags ===
: 
:   [-all]                     mark all files in the current session as unreviewed
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-file FILE]               forget only specified files
:   [-for USER]                for user (default is unix login)
:   [-max-output-columns INT]  maximum column width for table output
:   [-session-id SESSION_ID]   fail if the current session id is not the one
:                              supplied
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** lock

: lock the current session, prevent it from being deleted if not reviewed
: 
:   fe.exe session lock [FEATURE]
: 
: When a session is not locked, if it has no reviewed diff and stays idle for a while,
: it can be silently deleted on the server and replaced by a session that will make the
: user review the files to a more recent changeset in the feature, as the tip advances.
: 
: A session may be manually locked, using this command, or automatically locked as soon
: as a user look at one of the diff in their session [1].
: 
: A locked session may never be deleted even if it does not contain any reviewed
: diff.  A session becomes unlocked in any of the following circumstances:
: 
: * one runs [fe session unlock]
: * one runs [fe session commit]
: * all files in the session become reviewed
: 
: Locking a session is idempotent, but the command will fail if the user has no current
: session, or if someone is trying to act on behalf of someone else without having the
: required permissions.
: 
: [1] However, as of now the automatic locking is not the default behavior for everyone.
: It requires one to be in a special opt-in set. See [fe admin users using-locked-sessions]
: 
: 
: === flags ===
: 
:   [-for USER]               for user (default is unix login)
:   [-session-id SESSION_ID]  fail if the current session id is not the one
:                             supplied
:   [-help]                   print this help text and exit
:                             (alias: -?)

*** mark-file

: mark some files as reviewed
: 
:   fe.exe session mark-file FEATURE [FILE ...]
: 
: 
: 
: === flags ===
: 
:   [-create-catch-up-for-me]                   create catch-up review even when
:                                               reviewing for oneself
:   [-even-if-some-files-are-already-reviewed]  do not fail if some files are
:                                               already reviewed
:   [-for USER]                                 for user (default is unix login)
:   [-reason REASON]                            why you are reviewing this for
:                                               someone else
:   [-session-id SESSION_ID]                    fail if the current session id is
:                                               not the one supplied
:   [-help]                                     print this help text and exit
:                                               (alias: -?)

*** show

: show attributes of a session
: 
:   fe.exe session show [FEATURE]
: 
: === flags ===
: 
:   [-display-ascii]                                           display ASCII
:                                                              characters, with no
:                                                              ANSI color escapes
:                                                              or unicode
:                                                              characters
:   [-for USER|all]                                            for user (default
:                                                              is unix login)
:   [-id]                                                      show id
:   [-is-locked]                                               show is-locked
:   [-is-whole-feature-follower]                               show
:                                                              is-whole-feature-follower
:   [-is-whole-feature-reviewer]                               show
:                                                              is-whole-feature-reviewer
:   [-line-count-from-brain-if-session-was-committed-to-goal]  show
:                                                              line-count-from-brain-if-session-was-committed-to-goal
:   [-line-count-from-session-end-to-goal]                     show
:                                                              line-count-from-session-end-to-goal
:   [-line-count-to-finish-session]                            show
:                                                              line-count-to-finish-session
:   [-lines-required-to-separate-hunks]                        show
:                                                              lines-required-to-separate-hunks
:   [-max-output-columns INT]                                  maximum column
:                                                              width for table
:                                                              output
:   [-may-be-reviewed-by]                                      show
:                                                              may-be-reviewed-by
:   [-num-lines-remaining-to-review-in-session]                show
:                                                              num-lines-remaining-to-review-in-session
:   [-reviewer]                                                show reviewer
:   [-session-id SESSION_ID]                                   fail if the current
:                                                              session id is not
:                                                              the one supplied
:   [-sexp]                                                    print attribute as
:                                                              a record (enforced
:                                                              if attr > 1)
:   [-sort-build-order]                                        attempt to sort
:                                                              files in build
:                                                              order, computed via
:                                                              build artifacts
:   [-tip]                                                     show tip
:   [-help]                                                    print this help
:                                                              text and exit
:                                                              (alias: -?)

*** unlock

: unlock the current session
: 
:   fe.exe session unlock [FEATURE]
: 
: One may choose to run this command in order to unlock a session, without committing it.
: 
: Unlocking a session is idempotent, but the command will fail if the user has no current
: session, or if someone is trying to act on behalf of someone else without having the
: required permissions.
: 
: 
: === flags ===
: 
:   [-for USER]               for user (default is unix login)
:   [-session-id SESSION_ID]  fail if the current session id is not the one
:                             supplied
:   [-help]                   print this help text and exit
:                             (alias: -?)

** show

: show a feature or some of its attributes
: 
:   fe.exe show [{FEATURE | UUID}]
: 
: === flags ===
: 
:   [-allow-review-for]                                    show allow-review-for
:   [-archived]                                            lookup only among
:                                                          archived features
:   [-base]                                                show base
:   [-compilation-status]                                  show compilation-status
:   [-crs-are-enabled]                                     show crs-are-enabled
:   [-crs-shown-in-todo-only-for-users-reviewing]          show
:                                                          crs-shown-in-todo-only-for-users-reviewing
:   [-display-ascii]                                       display ASCII
:                                                          characters, with no
:                                                          ANSI color escapes or
:                                                          unicode characters
:   [-existing-or-most-recently-archived]                  try finding the most
:                                                          recently archived
:                                                          feature if the feature
:                                                          does not exist
:   [-feature-id]                                          show feature-id
:                                                          (alias: -id)
:   [-feature-path]                                        show feature-path
:   [-first-owner]                                         show first-owner
:   [-has-bookmark]                                        show has-bookmark
:   [-included-features]                                   show included-features
:   [-inheritable-attributes]                              show
:                                                          inheritable-attributes
:   [-is-archived]                                         show is-archived
:   [-is-permanent]                                        show is-permanent
:   [-is-rebased]                                          show is-rebased
:   [-is-seconded]                                         show is-seconded
:   [-max-output-columns INT]                              maximum column width
:                                                          for table output
:   [-next-base-update]                                    show next-base-update
:   [-next-bookmark-update]                                show
:                                                          next-bookmark-update
:   [-next-steps]                                          show next-steps
:   [-omit-attribute-table]                                don't include feature
:                                                          attributes
:   [-omit-completed-review]                               omit completed review
:                                                          lines
:   [-omit-description]                                    don't include feature
:                                                          descriptions
:   [-omit-review-sessions-in-progress-table]              don't include review
:                                                          sessions in progress
:   [-omit-unclean-workspaces-table]                       don't include the
:                                                          unclean workspaces
:                                                          table
:   [-order-included-features-by-decreasing-release-time]  display included
:                                                          features from newest to
:                                                          oldest
:   [-order-included-features-by-release-time]             display included
:                                                          features from oldest to
:                                                          newest
:   [-org-mode]                                            produce output in
:                                                          org-mode format
:   [-owners]                                              show owners
:   [-print-attribute]                                     print all required
:                                                          attributes and exit
:   [-properties]                                          show properties
:   [-property ATTR[,ATTR...]]                             show user-defined
:                                                          properties
:   [-release-process]                                     show release-process
:   [-remote-repo-path]                                    show remote-repo-path
:   [-rev-zero]                                            show rev-zero
:   [-review-is-enabled]                                   show review-is-enabled
:   [-reviewers]                                           show reviewers
:   [-reviewing]                                           show reviewing
:   [-seconder]                                            show seconder
:   [-send-email-to]                                       show send-email-to
:   [-send-email-upon]                                     show send-email-upon
:   [-sexp]                                                print [Feature.t] as a
:                                                          sexp and exit
:   [-show-completed-review]                               DEPRECATED -- became
:                                                          the default
:   [-show-diff-stat]                                      compute and show [hg
:                                                          diff --stat] in
:                                                          org-mode output
:   [-show-feature-id]                                     show feature id as well
:   [-show-full-compilation-status]                        show compilation status
:                                                          for all repo
:                                                          controllers
:   [-show-included-feature-details]                       show included-feature
:                                                          descriptions and
:                                                          attributes
:   [-show-inheritable-attributes]                         show inheritable
:                                                          attributes in
:                                                          attributes table
:   [-show-lock-reasons]                                   show lock reasons as
:                                                          well
:   [-tip]                                                 show tip
:   [-users-with-review-session-in-progress]               show
:                                                          users-with-review-session-in-progress
:   [-users-with-unclean-workspaces]                       show
:                                                          users-with-unclean-workspaces
:   [-what-is-locked]                                      show what-is-locked
:   [-who-can-release-into-me]                             show
:                                                          who-can-release-into-me
:   [-who-can-review]                                      show who-can-review
:   [-whole-feature-followers]                             show
:                                                          whole-feature-followers
:   [-whole-feature-reviewers]                             show
:                                                          whole-feature-reviewers
:   [-xcrs-shown-in-todo-only-for-users-reviewing]         show
:                                                          xcrs-shown-in-todo-only-for-users-reviewing
:   [-help]                                                print this help text
:                                                          and exit
:                                                          (alias: -?)

** todo

: show what a user should work on
: 
:   fe.exe todo [FEATURE]
: 
: === flags ===
: 
:   [-assigned]                        show only the assigned table
:                                      (alias: -crs-and-review)
:   [-bookmarks-without-feature]       list bookmarks from the 'Bookmarks without
:                                      a feature' table
:   [-catch-up-names]                  list feature names, including features with
:                                      catch-up lines
:   [-cr-soons]                        show only the 'CR-soons assigned to you'
:                                      table
:   [-crs-and-review-names]            list feature names, including features from
:                                      the assigned table
:   [-display-ascii]                   display ASCII characters, with no ANSI
:                                      color escapes or unicode characters
:   [-do-not-show-cr-soons]            don't show cr soons
:   [-do-not-show-unclean-workspaces]  don't show unclean workspaces
:   [-follow-names]                    list feature names, including features with
:                                      follow lines
:   [-for USER]                        for user (default is unix login)
:   [-include-active-cr-soons]         don't hide the cr-soons that are active in
:                                      some feature
:   [-include-all-owned-features]      include owned features that are normally
:                                      omitted
:   [-max-output-columns INT]          maximum column width for table output
:   [-owned-by-me-names]               list features names, including features
:                                      from the 'Features you own' table
:   [-owned-by-me]                     show only the 'Features you own' table
:   [-releasable-names]                list feature names, including releasable
:                                      features
:   [-releasable]                      show only releasable features
:   [-review-names]                    list feature names, including features with
:                                      review lines
:   [-unclean-workspaces-names]        list feature names, including features with
:                                      unclean workspaces
:   [-unclean-workspaces]              show only the unclean workspaces table(s)
:   [-watched-by-me-names]             list features names, including features
:                                      from the 'Features you watch' table
:   [-watched-by-me]                   show only the 'Features you watch' table
:   [-help]                            print this help text and exit
:                                      (alias: -?)

** tools

: miscellaneous commands
: 
:   fe.exe tools SUBCOMMAND
: 
: === subcommands ===
: 
:   build-order-sort              print files from manifest below current dir in
:                                 build dependency order
:   complete-feature-path         complete partial feature path in scripts
:   feature-exists                print [true] or [false], depending on whether
:                                 the feature exists
:   feature-table-of-csv          print tabular data indexed by feature name
:   force-retry                   make fe ask hydra to redo its work for a given
:                                 feature
:   fully-reviewed-edge           deal with the set of fully-reviewed edges
:   fully-reviewed-revision       check the set of fully-reviewed revisions
:   get-feature-email-recipients  output recipients of feature emails
:   hg                            runs hg the same way as fe does internally
:   hg-hooks                      implement hg hooks for Iron
:   mark-fully-reviewed           mark a feature as fully reviewed
:   pairwise-common-revisions     show revisions common to pairs of features
:   ping                          ping the server
:   restore-bookmark              create the bookmark, set to the feature tip
:   review-ddiff                  Locally compute and review the feature ddiff of
:                                 the given revs diamond.
:   strip-crs                     strip out CRs from one or more files
:   unbookmarked-head             manage unbookmarked heads
:   validate-ferc                 Validate config in $HOME/.ferc if it exists
:   wait-for-hydra                wait until Iron hydra is not processing the
:                                 supplied feature
:   help                          explain a given subcommand (perhaps recursively)

*** build-order-sort

: print files from manifest below current dir in build dependency order
: 
:   fe.exe tools build-order-sort 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** complete-feature-path

: complete partial feature path in scripts
: 
:   fe.exe tools complete-feature-path INPUT
: 
: Output on stdout all completion candidates for the given argument,
: based on feature path universe read from stdin.
: 
: === flags ===
: 
:   [-full-name]  input to complete is assumed to start from the root feature
:   [-help]       print this help text and exit
:                 (alias: -?)

*** feature-exists

: print [true] or [false], depending on whether the feature exists
: 
:   fe.exe tools feature-exists FEATURE
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** feature-table-of-csv

: print tabular data indexed by feature name
: 
:   fe.exe tools feature-table-of-csv 
: 
: This commands reads comma separated values from stdin and outputs the data in the form of
: an Iron feature table on stdout.
: 
: The first line of input should be a header.  The first column should be feature names.
: 
: Rows will be re-ordered by increasing feature name, but duplicates will be preserved.
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-max-output-columns INT]  maximum column width for table output
:   [-sep CHAR]                delimits adjacent columns. Default is ','
:   [-help]                    print this help text and exit
:                              (alias: -?)

*** force-retry

: make fe ask hydra to redo its work for a given feature
: 
:   fe.exe tools force-retry [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** fully-reviewed-edge

: deal with the set of fully-reviewed edges
: 
:   fe.exe tools fully-reviewed-edge SUBCOMMAND
: 
: Fully-reviewed edges are added lazily to the server state, typically each time a feature
: is released.  However, one may choose to add new edges manually using this command, at any
: point using the current base and tip of a releasable feature.
: 
: Fully-reviewed edges affect the behavior of Iron in various ways.  For example, when
: [fe create] is called with a [-base] and [-tip] matching an existing fully-reviewed edge,
: all users are automatically marked as reviewed with no catch-up.
: 
: To check whether an edge has been marked as fully-reviewed in the server state, see:
: 
:   $ fe tools fully-reviewed-edge check -help
: 
: To check whether there exists a path of fully-reviewed edges leading to a particular
: revision, see:
: 
:   $ fe tools fully-reviewed-revision check -help
: 
: 
: === subcommands ===
: 
:   add    add a fully-reviewed edge from a feature's base to tip
:   check  check whether a fully-reviewed edge exists
:   help   explain a given subcommand (perhaps recursively)

**** add

: add a fully-reviewed edge from a feature's base to tip
: 
:   fe.exe tools fully-reviewed-edge add [FEATURE]
: 
: This command fails if the feature is not releasable.
: 
: For more info, see:
: 
:   $ fe tools fully-reviewed-edge -help
: 
: 
: === flags ===
: 
:   [-do-nothing-if-feature-is-empty]  do not add an edge (instead of failing)
:                                      when the feature is empty
:   [-even-if-release-is-locked]       succeed even if release is currently locked
:                                      in the feature
:   [-help]                            print this help text and exit
:                                      (alias: -?)

**** check

: check whether a fully-reviewed edge exists
: 
:   fe.exe tools fully-reviewed-edge check REV REV
: 
: See:
: 
:   $ fe tools fully-reviewed-edge -help
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** fully-reviewed-revision

: check the set of fully-reviewed revisions
: 
:   fe.exe tools fully-reviewed-revision SUBCOMMAND
: 
: === subcommands ===
: 
:   check  check whether a revision is fully-reviewed
:   help   explain a given subcommand (perhaps recursively)

**** check

: check whether a revision is fully-reviewed
: 
:   fe.exe tools fully-reviewed-revision check REV
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** get-feature-email-recipients

: output recipients of feature emails
: 
:   fe.exe tools get-feature-email-recipients [FEATURE]
: 
: === flags ===
: 
:   -sent-upon _  archive | release | release-into
:   [-help]       print this help text and exit
:                 (alias: -?)

*** hg

: runs hg the same way as fe does internally
: 
:   fe.exe tools hg 
: 
: === flags ===
: 
:   [--]     arguments to pass to hg
:   [-help]  print this help text and exit
:            (alias: -?)

*** hg-hooks

: implement hg hooks for Iron
: 
:   fe.exe tools hg-hooks HOOK-NAME
: 
: [fe tools hg-hooks HOOK-NAME] is invoked by hg hooks in Iron workspaces.
: 
: Hooks supported: post-commit, post-push
: 
: The command will fail synchronously if not run from within a repository.
: Otherwise, it daemonizes and create a temporary log directory under:
: 
:   $(hg root)/.hg/iron-hooks/${HOOK-NAME}/${TMP_RUNDIR}
: 
: Upon completion of the background hook, if there is no error the temporary directory
: is deleted.  In case of an error, the directory is kept untouched for inspection.
: 
: 
: === flags ===
: 
:   [-fg]    run in foreground, don't daemonize
:   [-help]  print this help text and exit
:            (alias: -?)

*** mark-fully-reviewed

: mark a feature as fully reviewed
: 
:   fe.exe tools mark-fully-reviewed FEATURE
: 
: Catchup review will be generated for everyone but yourself (unless you supply
: -create-catch-up-for-me).
: 
: When base or tip are provided, server will check if they match server's knowledge
: and only continue when they totally match.  If a 40-character hg revision is provided
: then this command works without a local hg repo.
: 
: 
: === flags ===
: 
:   [-base REV]                    base of the feature you know
:   [-create-catch-up-for-me]      create catch-up review even when reviewing for
:                                  oneself
:   [-for USER|all]                (default is unix login)
:   [-for-all-but USER[,USER...]]  for all but these users
:   [-reason REASON]               why you are reviewing this for someone else
:   [-tip REV]                     tip of the feature you know
:   [-help]                        print this help text and exit
:                                  (alias: -?)

*** pairwise-common-revisions

: show revisions common to pairs of features
: 
:   fe.exe tools pairwise-common-revisions [FEATURE ...]
: 
: === flags ===
: 
:   [-subtree FEATURE]  check descendants of this feature
:   [-help]             print this help text and exit
:                       (alias: -?)

*** ping

: ping the server
: 
:   fe.exe tools ping 
: 
: === flags ===
: 
:   [-count N]                    number of pings to send
:   [-how {parallel|sequential}]  send in parallel or in sequence
:   [-watch]                      ping forever every 2 seconds and print
:                                 connection status
:   [-help]                       print this help text and exit
:                                 (alias: -?)

*** restore-bookmark

: create the bookmark, set to the feature tip
: 
:   fe.exe tools restore-bookmark [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** review-ddiff

: Locally compute and review the feature ddiff of the given revs diamond.
: 
:   fe.exe tools review-ddiff 
: 
: The command synthesizes a review session containing all the requested changes, and
: starts the interactive review client loop in the terminal. It has two uses:
: 
: - debugging, for example in an attempt to re-run a review client for a particular revs
:   diamond even though no such session exists on the server anymore
: 
: - trying to understand a merge, allowing to see a diff the way fe would have shown it
: 
: Because obligations are not taken into account, the ddiff shown can differ from what fe
: would show.  On the plus side, you can see ddiffs despite obligations being broken,
: including if the repo is not even managed by fe.
: 
: For example:
: 
:   $ fe tools review -base jane-113.12 -tip jane-113.12+01
: 
: Or, staging the computation of ddiffs:
: 
:   $ fe internal diffs jane-113.12 jane-113.12 jane-113.12 jane-113.12+01 \
:       > /tmp/diff4s.txt
: 
:   $ fe tools review -read-diff4s-from-sexp-file /tmp/diff4s.txt
: 
: 
: 
: === flags ===
: 
:   [-base rev]                                         the hg revision for the
:                                                       base
:   [-context N]                                        number of lines of context
:                                                       to show (default 12)
:   [-lines-required-to-separate-ddiff-hunks INT]       required spacing to
:                                                       separate two ddiff hunks
:                                                       (default 0)
:   [-new-base rev]                                     the hg revision for the
:                                                       new-base
:                                                       (alias: -b2)
:   [-new-tip rev]                                      the hg revision for the
:                                                       new-tip
:                                                       (aliases: -f2,
:                                                       -new-feature)
:   [-old-base rev]                                     the hg revision for the
:                                                       old-base
:                                                       (alias: -b1)
:   [-old-tip rev]                                      the hg revision for the
:                                                       old-tip
:                                                       (aliases: -f1,
:                                                       -old-feature)
:   [-read-diff4s-from-sexp-file /path/to/diff4s.sexp]  Read diff4s from a sexp
:                                                       file instead of computing
:                                                       them based on some given
:                                                       revisions
:   [-tip rev]                                          the hg revision for the
:                                                       tip
:   [-help]                                             print this help text and
:                                                       exit
:                                                       (alias: -?)

*** strip-crs

: strip out CRs from one or more files
: 
:   fe.exe tools strip-crs FILE [FILE ...]
: 
: === flags ===
: 
:   [-extra-cr-comment-header STR]  additional header to recognize as a CR
:   [-in-place]                     update files in place
:   [-max-concurrent-jobs NUM]      allow NUM jobs at once when updating files in
:                                   place. default is 8
:   [-replace-with TEXT]            replace CR comments with this string
:   [-help]                         print this help text and exit
:                                   (alias: -?)

*** unbookmarked-head

: manage unbookmarked heads
: 
:   fe.exe tools unbookmarked-head SUBCOMMAND
: 
: === subcommands ===
: 
:   prune  prune an unbookmarked head, so it is no longer a head
:   help   explain a given subcommand (perhaps recursively)

**** prune

: prune an unbookmarked head, so it is no longer a head
: 
:   fe.exe tools unbookmarked-head prune ROOT-FEATURE REV
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** validate-ferc

: Validate config in $HOME/.ferc if it exists
: 
:   fe.exe tools validate-ferc [FILE ...]
: 
: By default the command will validate the following files in the order given,
: if each of them exists:
: 
:   /j/office/app/fe/prod/etc/ferc
:   $HOME/.ferc
: 
: One can supply custom files to be validated instead, in which case the files
: are expected to be found.
: 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** wait-for-hydra

: wait until Iron hydra is not processing the supplied feature
: 
:   fe.exe tools wait-for-hydra [FEATURE]
: 
: While Iron is waiting for hydra to process a feature, it is shown as [pending].
: This command waits and returns when the feature is no longer pending.
: There is a default timeout of 5m (use [-timeout] to change it).
: 
: If the flag [-update-local-repo] is supplied, the command will also
: update the local repository to the tip of the feature just before returning.
: 
: One can also add the following line to one's [.ferc] to force the update by default:
: 
:   (add_flag_to wait-for-hydra -update-local-repo)
: 
: When using the latter, the switch [-do-not-modify-local-repo] acts as a punctual
: override.  Otherwise it is implied.
: 
: 
: === flags ===
: 
:   [-do-not-modify-local-repo]  overrides [.ferc]'s -update-local-repo
:   [-timeout SPAN]              abort if the feature is still pending after SPAN
:   [-update-local-repo]         update the local repo to the feature's tip
:   [-help]                      print this help text and exit
:                                (alias: -?)

** unarchive

: unarchive a feature
: 
:   fe.exe unarchive FEATURE
: 
: === flags ===
: 
:   [-id FEATURE_ID]  feature id
:   [-help]           print this help text and exit
:                     (alias: -?)

** unlock

: unlock some of a feature's locks
: 
:   fe.exe unlock [FEATURE]
: 
: [fe unlock] succeeds only if the supplied locks are locked and the user requesting to
: unlock is the one who locked them.  You must supply at least one lock.  Unlocking for
: someone else is possible using [-for].  If the lock is permanent, it is required to
: supply the switch [-even-if-permanent].
: 
: To see what is locked for a feature, use:
: 
:   $ fe show -what-is-locked [FEATURE]
: 
: 
: === flags ===
: 
:   [-create-child]       create-child
:   [-even-if-permanent]  allow to unlock even if the lock is permanent
:   [-for USER]           for user (default is unix login)
:   [-rebase]             rebase
:   [-release-into]       release-into
:   [-release]            release
:   [-rename]             rename
:   [-second]             second
:   [-verbose]            be more verbose
:   [-help]               print this help text and exit
:                         (alias: -?)

** unsecond

: undo a second
: 
:   fe.exe unsecond [FEATURE]
: 
: The recommended workflow is for the seconder to unsecond, should the need arise. However,
: Iron allows the command to be run on behalf of the seconder, using [-for _]:
: 
:   $ fe unsecond -for USER [FEATURE]
: 
: 
: === flags ===
: 
:   [-for USER]  for user (default is unix login)
:   [-help]      print this help text and exit
:                (alias: -?)

** update

: update the repo to the current active session or to tip
: 
:   fe.exe update [FEATURE]
: 
: === flags ===
: 
:   [-interactive BOOL]  be interactive via the terminal (default is false)
:   [-satellites-only]   update only satellites repos in the scaffold repo
:                        (require workspaces enabled, and cwd = center repo)
:   [-help]              print this help text and exit
:                        (alias: -?)

** widen-reviewing

: grow the set of users currently reviewing
: 
:   fe.exe widen-reviewing [FEATURE]
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

** workspace

: managing clones and shares for features
: 
:   fe.exe workspace SUBCOMMAND
: 
: Workspaces automate the workflow of having a single hg share for each feature that one is
: working on.  For more information, including how to start using workspaces, see:
: 
:   http://docs/app/fe/workspaces.html
: 
: 
: === subcommands ===
: 
:   create                   force the creation of user's workspaces (idempotent)
:   delete                   delete selected workspaces
:   dir                      output a feature's workspace directory if it exists
:                            or fail otherwise
:   distclean                delete build artifacts in selected workspaces
:   exists                   test the existence of user workspaces
:   kill-build               kill running build process in selected workspaces
:   list                     list all workspaces
:   pwd                      output the current feature path if you are currently
:                            in a workspace directory, or fail otherwise
:   unclean                  manage unclean workspaces
:   update-clean-workspaces  fe update all clean workspaces on the current machine
:   help                     explain a given subcommand (perhaps recursively)

*** create

: force the creation of user's workspaces (idempotent)
: 
:   fe.exe workspace create [FEATURE]
: 
: Create specified workspace(s).  If [-features-in-my-todo] is supplied,
: then a workspace is set up for each features you own or have to read, and a
: hg pull is executed in all root features clones.
: 
: In addition to manual uses of the command, it is encouraged to run it often
: in the background (e.g. via a crontab job) to help reducing the latency of
: running other workspace commands.
: 
: === flags ===
: 
:   [-clone-of-root-feature-of FEATURE]  clone the root feature repos of specified
:                                        feature
:   [-features-assigned-to-me]           create a workspace for each feature
:                                        assigned in the user's todo
:   [-features-in-my-todo]               create a workspace for each feature
:                                        assigned or owned in the user's todo
:   [-features-owned-by-me]              create a workspace for each feature owned
:                                        in the user's todo
:   [-features-watched-by-me]            create a workspace for each feature
:                                        watched in the user's todo
:   [-for USER]                          for user (default is unix login)
:   [-interactive BOOL]                  be interactive via the terminal (default
:                                        is false)
:   [-max-concurrent-jobs NUM]           (default 5)
:   [-num-spares INT]                    target number of spare shares
:   [-help]                              print this help text and exit
:                                        (alias: -?)

*** delete

: delete selected workspaces
: 
:   fe.exe workspace delete [FEATURE ...]
: 
: This command deletes one's selected workspace directories on the local machine.  It does
: not archive the associated feature(s), and leave the remote repository untouched.
: 
: Before deleting the directories, the command will check the cleanliness of the workspace.
: Refer to [fe workspace unclean check -help] to read more about the cleanliness status.
: Essentially, the command will not attempt to delete a workspace that has uncommitted or
: unpushed changes and fail instead, in order to preserve those changes.
: 
: 
: === flags ===
: 
:   [-all]                              include all features
:   [-dry-run]                          only print what features would have
:                                       otherwise been deleted
:   [-exclude FEATURE]                  leave this feature alone (this flag may be
:                                       passed serveral times)
:   [-exclude-features-assigned-to-me]  exclude features assigned in the user's
:                                       todo
:   [-exclude-features-in-my-todo]      exclude features assigned or owned in the
:                                       user's todo
:   [-exclude-features-owned-by-me]     exclude features owned in the user's todo
:   [-exclude-features-watched-by-me]   exclude features watched in the user's
:                                       todo
:   [-for USER]                         for user (default is unix login)
:   [-interactive BOOL]                 be interactive via the terminal (default
:                                       is false)
:   [-rec]                              include recursively each descendant of
:                                       given features
:   [-workspaces-without-feature]       delete all workspaces whose feature
:                                       doesn't exist
:   [-help]                             print this help text and exit
:                                       (alias: -?)

*** dir

: output a feature's workspace directory if it exists or fail otherwise
: 
:   fe.exe workspace dir [FEATURE]
: 
: === flags ===
: 
:   [-basedir]  print the user's workspaces basedir
:   [-help]     print this help text and exit
:               (alias: -?)

*** distclean

: delete build artifacts in selected workspaces
: 
:   fe.exe workspace distclean [FEATURE ...]
: 
: Iter through the intersection of your local workspaces and the feature selected via the
: command line and in each repo root run:
: 
:   $ hg distclean
: 
: The intended usage of this command is to be run in the background to keep the local disk
: use reasonable, or to be run manually from time to time on selected workspaces.
: 
: To prevent some workspaces from being cleaned, add a [do_not_distclean] stanza to
: your .ferc, e.g:
: 
:   (workspaces (
:     (do_not_distclean (
:       jane/fe
:       jane/oculus
:     ))
:   ))
: 
: Like [-exclude], this will take priority over the features selected via the
: command line, and result in skipping those features.
: 
: In doubt, run the command with [-dry-run] to see what would be done.
: 
: 
: === flags ===
: 
:   [-all]                              include all features
:   [-dry-run]                          only print what features would have
:                                       otherwise been distcleaned
:   [-exclude FEATURE]                  leave this feature alone (this flag may be
:                                       passed serveral times)
:   [-exclude-features-assigned-to-me]  exclude features assigned in the user's
:                                       todo
:   [-exclude-features-in-my-todo]      exclude features assigned or owned in the
:                                       user's todo
:   [-exclude-features-owned-by-me]     exclude features owned in the user's todo
:   [-exclude-features-watched-by-me]   exclude features watched in the user's
:                                       todo
:   [-for USER]                         for user (default is unix login)
:   [-interactive BOOL]                 be interactive via the terminal (default
:                                       is false)
:   [-rec]                              include recursively each descendant of
:                                       given features
:   [-help]                             print this help text and exit
:                                       (alias: -?)

*** exists

: test the existence of user workspaces
: 
:   fe.exe workspace exists [FEATURE]
: 
: Check on the localhost that the user has a workspace for a specified feature or clone.
: 
: 
: === flags ===
: 
:   [-clone-of-root-feature-of FEATURE]  check for the clone associated with the
:                                        specified feature's root instead of
:                                        checking for the feature share
:   [-interactive BOOL]                  be interactive via the terminal (default
:                                        is false)
:   [-help]                              print this help text and exit
:                                        (alias: -?)

*** kill-build

: kill running build process in selected workspaces
: 
:   fe.exe workspace kill-build [FEATURE ...]
: 
: Attempt to kill the build process running in the selected workspace(s).
: 
: The command tries first to send the kill request to the build manager running in emacs (if
: applicable) and then defaults to killing the jenga process directly.  The intent is for
: this command to work for non emacs users, while offering a cleaner kill for emacs users.
: 
: 
: === flags ===
: 
:   [-all]                              include all features
:   [-dry-run]                          only print what features would have
:                                       otherwise been distcleaned
:   [-exclude FEATURE]                  leave this feature alone (this flag may be
:                                       passed serveral times)
:   [-exclude-features-assigned-to-me]  exclude features assigned in the user's
:                                       todo
:   [-exclude-features-in-my-todo]      exclude features assigned or owned in the
:                                       user's todo
:   [-exclude-features-owned-by-me]     exclude features owned in the user's todo
:   [-exclude-features-watched-by-me]   exclude features watched in the user's
:                                       todo
:   [-for USER]                         for user (default is unix login)
:   [-interactive BOOL]                 be interactive via the terminal (default
:                                       is false)
:   [-rec]                              include recursively each descendant of
:                                       given features
:   [-help]                             print this help text and exit
:                                       (alias: -?)

*** list

: list all workspaces
: 
:   fe.exe workspace list 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** pwd

: output the current feature path if you are currently in a workspace directory, or fail otherwise
: 
:   fe.exe workspace pwd 
: 
: === flags ===
: 
:   [-help]  print this help text and exit
:            (alias: -?)

*** unclean

: manage unclean workspaces
: 
:   fe.exe workspace unclean SUBCOMMAND
: 
: === subcommands ===
: 
:   check           fail if your workspaces have pending changes
:   list            find unclean workspaces on the local machine and show them
:   remove-machine  clear unclean workspaces associated with a pair USER * MACHINE
:                   on the server
:   show            output the unclean workspaces state on the server
:   update-server   compute unclean workspaces statuses on the local machine and
:                   communicate this information to Iron
:   help            explain a given subcommand (perhaps recursively)

**** check

: fail if your workspaces have pending changes
: 
:   fe.exe workspace unclean check [FEATURE ...]
: 
: Pending changes are unpushed or uncommitted changes in your workspaces' repositories.
: If a feature path is provided it will check the associated workspace or fail if you have
: no workspace set up for that feature.  If no feature path is given the flag [-all] is
: required, and the command will check all existing workspaces.
: 
: Note that the hgrc of a workspace repository is configured for the bookmark matching the
: feature path [1], so effectively this command only checks for outgoing changes with that
: bookmark name.
: 
: [1] from .hg/hgrc:
: 
: [defaults]
: outgoing = -r FEATURE_PATH
: 
: 
: === flags ===
: 
:   [-all]               include all features
:   [-interactive BOOL]  be interactive via the terminal (default is false)
:   [-help]              print this help text and exit
:                        (alias: -?)

**** list

: find unclean workspaces on the local machine and show them
: 
:   fe.exe workspace unclean list 
: 
: This command is slow because walks all of one's workspaces.  It is not intended to be used
: directly, but rather just occasionally for example for trouble shooting.  There is a set
: of background jobs that one can set up to cache this information in the server, and access
: it directly with:
: 
:   $ fe todo -unclean-workspaces
: 
: 
: === flags ===
: 
:   [-display-ascii]           display ASCII characters, with no ANSI color
:                              escapes or unicode characters
:   [-interactive BOOL]        be interactive via the terminal (default is false)
:   [-max-output-columns INT]  maximum column width for table output
:   [-name-only]               show only the feature names, one per line
:   [-help]                    print this help text and exit
:                              (alias: -?)

**** remove-machine

: clear unclean workspaces associated with a pair USER * MACHINE on the server
: 
:   fe.exe workspace unclean remove-machine MACHINE
: 
: This command updates the set of workspaces known to be unclean by the server for a given
: USER: It removes from the unclean state all workspaces located on the given MACHINE.
: 
: Running the command does not affect local workspaces.  It has no effect on the local disk
: on the host it is run, even if this host is indeed the MACHINE in question.
: 
: The command needs to be run by the USER, otherwise admin privileges are required.
: 
: 
: === flags ===
: 
:   [-for USER]  for user (default is unix login)
:   [-help]      print this help text and exit
:                (alias: -?)

**** show

: output the unclean workspaces state on the server
: 
:   fe.exe workspace unclean show 
: 
: === flags ===
: 
:   [-for USER|all]  for user (default is unix login)
:   [-help]          print this help text and exit
:                    (alias: -?)

**** update-server

: compute unclean workspaces statuses on the local machine and communicate this information to Iron
: 
:   fe.exe workspace unclean update-server [FEATURE ...]
: 
: A workspace is considered unclean if it has uncommitted changes, outgoing changes, or if
: an error occurred while trying to get this very information.
: 
: This command walks all of one's workspaces, compute unclean workspaces statuses and
: communicate the information to Iron to be displayed in one's [fe todo].
: 
: A user may run this command periodically in the background.  Typically it is called by
: the script [/j/office/app/fe/prod/etc/update-workspaces] which it called hourly under the
: standard setup.
: 
: One can disable this functionality by having the following line in one's ferc:
: 
:   (workspaces (
:     (unclean_workspaces_detection_is_enabled false)
:   ))
: 
: When this is disabled the command fails, unless -do-nothing-if-not-enabled is supplied.
: 
: 
: === flags ===
: 
:   [-all]                        include all features
:   [-do-nothing-if-not-enabled]  exit 0 if the functionality is not enabled by
:                                 the user
:   [-for USER]                   for user (default is unix login)
:   [-interactive BOOL]           be interactive via the terminal (default is
:                                 false)
:   [-help]                       print this help text and exit
:                                 (alias: -?)

*** update-clean-workspaces

: fe update all clean workspaces on the current machine
: 
:   fe.exe workspace update-clean-workspaces 
: 
: A workspace is considered clean if it has no uncommitted changes, not outgoing changes,
: and no error occurred while trying to get this very information.
: 
: This command walks all of one's clean workspaces, and update their hg share to the tip
: of the feature's remote bookmark.  It also updates the satellites of scaffold repos when
: applicable.
: 
: A user may run this command periodically in the background.  Typically it is called by
: the script [/j/office/app/fe/prod/etc/update-workspaces] which it called hourly under the
: standard setup.
: 
: When the switch -do-nothing-if-not-enabled is supplied, the command will
: look whether the following attribute is set to [true] in one's ferc file:
: 
:   (workspaces (
:     (auto_update_clean_workspaces_is_enabled BOOL)
:   ))
: 
: and will simply exit 0 if the property is set to false.
: 
: It is also possible to define a custom exception list of workspaces that should never
: be updated during that process, by adding the following in one's ferc file:
: 
:   (workspaces (
:     (do_not_auto_update (jane/foo bar/baz))
:   ))
: 
: 
: === flags ===
: 
:   [-do-nothing-if-not-enabled]  exit 0 if the functionality is not enabled by
:                                 the user
:   [-interactive BOOL]           be interactive via the terminal (default is
:                                 false)
:   [-help]                       print this help text and exit
:                                 (alias: -?)
